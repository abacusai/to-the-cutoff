<p>
Let's call two numbers <dfn>friend numbers</dfn> if their representation in base $10$ has at least one common digit.<br> E.g. $1123$ and $3981$ are friend numbers. 
</p>
<p>
Let $f(n)$ be the number of pairs $(p,q)$ with $1\le p \lt q \lt n$ such that $p$ and $q$ are friend numbers.<br>
$f(100)=1539$.
</p>
<p>
Find $f(10^{18}) \bmod 1000267129$.
</p>
