[
    {
        "name": "Maximum Subrectangle",
        "description": "You are given two arrays \n    a\n and \n    b\n of positive integers, with length\n\n    n\n and \n    m\n respectively. Let \n    c\n be an \n    n \n    \u00d7 m\n matrix,\nwhere \n    c_i,j = a_i \n    \u00b7 b_j\n. You need to find a subrectangle of the\nmatrix \n    c\n such that the sum of its elements is at most \n    x\n, and its\narea (the total number of elements) is the largest possible. Formally, you\nneed to find the largest number \n    s\n such that it is possible to choose\nintegers \n    x_1, x_2, y_1, y_2\n subject to \n    1 \n    \u2264 x_1 \n    \u2264 x_2 \n    \u2264\n    n\n, \n    1 \n    \u2264 y_1 \n    \u2264 y_2 \n    \u2264 m\n, \n    (x_2 - x_1 + 1) \n    \u00d7 (y_2\n    - y_1 + 1) = s\n, and\n\n    \n\n    \u2211_i=x_1^x_2\n    \u2211_j=y_1^y_2c_i,j\n    \u2264 x.\n\n    \n\nInput The first line contains two integers \n    n\n and \n    m\n (\n    1 \n    \u2264 n,\n    m \n    \u2264 2000\n). The second line contains \n    n\n integers \n    a_1, a_2,\n    \n    \u2026, a_n\n (\n    1 \n    \u2264 a_i \n    \u2264 2000\n). The third line contains\n\n    m\n integers \n    b_1, b_2, \n    \u2026, b_m\n (\n    1 \n    \u2264 b_i \n    \u2264\n    2000\n). The fourth line contains a single integer \n    x\n (\n    1 \n    \u2264 x\n    \n    \u2264 2 \n    \u00b7 10^9\n). Output If it is possible to choose four integers\n\n    x_1, x_2, y_1, y_2\n such that \n    1 \n    \u2264 x_1 \n    \u2264 x_2 \n    \u2264 n\n,\n\n    1 \n    \u2264 y_1 \n    \u2264 y_2 \n    \u2264 m\n, and\n\n    \u2211_i=x_1^x_2\n    \u2211_j=y_1^y_2c_i,j\n    \u2264 x\n, output the\nlargest value of \n    (x_2 - x_1 + 1) \n    \u00d7 (y_2 - y_1 + 1)\n among all such\nquadruplets, otherwise output \n    0\n. Examples Input 3 3 1 2 3 1 2 3 9 Output\n4 Input 5 1 5 4 2 4 5 2 5 Output 1 Note Matrix from the first sample and the\nchosen subrectangle (of blue color): Matrix from the second sample and the\nchosen subrectangle (of blue color):\n\n",
        "cf_contest_id": 1060,
        "cf_index": "C",
        "cf_rating": 1600,
        "difficulty": 0,
        "cf_tags": [
            "binary search",
            "implementation",
            "two pointers"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 512.0,
        "public_cases": [
            [
                "3 3\r\n1 2 3\r\n1 2 3\r\n9\r\n",
                "4\r\n"
            ],
            [
                "5 1\r\n5 4 2 4 5\r\n2\r\n5\r\n",
                "1\r\n"
            ]
        ],
        "private_cases": [
            [
                "1 1\r\n1\r\n1\r\n1\r\n",
                "1\r\n"
            ],
            [
                "5 5\r\n816 1061 1639 1627 1007\r\n45 104 1091 592 1881\r\n84465\r\n",
                "2\r\n"
            ],
            [
                "5 5\r\n816 1061 1639 1627 1007\r\n45 104 1091 592 1881\r\n36719\r\n",
                "0\r\n"
            ],
            [
                "5 5\r\n816 1061 1639 1627 1007\r\n45 104 1091 592 1881\r\n165947710\r\n",
                "25\r\n"
            ],
            [
                "1 5\r\n549\r\n1422 1870 569 844 1178\r\n340452749\r\n",
                "5\r\n"
            ],
            [
                "1 10\r\n491\r\n980 1907 1241 336 811 1048 957 440 143 1835\r\n938294862\r\n",
                "10\r\n"
            ],
            [
                "1 50\r\n758\r\n1915 1868 1403 691 77 403 1322 701 1192 1463 911 1029 1471 1610 736 1501 1243 1327 1624 412 455 177 371 750 1156 989 1861 498 567 803 1140 346 1654 1961 330 718 943 1880 1476 1193 1666 1757 405 202 417 585 1812 293 791 1858\r\n1796075481\r\n",
                "50\r\n"
            ],
            [
                "1 100\r\n1612\r\n1989 1820 1837 815 943 208 131 1252 1372 145 1182 1200 499 1312 1390 829 1343 1378 280 492 609 1439 1128 1597 123 372 953 472 1078 1522 526 1639 1357 1452 1357 89 480 1597 783 177 1106 688 1426 1334 1292 406 1959 1649 1768 1956 1844 273 454 354 1170 1514 10 557 1472 1697 1004 485 1870 1394 102 400 883 1979 938 501 1368 1038 922 1090 1339 1379 254 1335 1853 1923 1249 1449 1588 334 1460 256 1386 918 1818 409 236 1538 346 1860 587 268 81 1015 1838 1955\r\n1774052077\r\n",
                "100\r\n"
            ],
            [
                "5 1\r\n416 387 336 116 1081\r\n553\r\n193993787\r\n",
                "5\r\n"
            ],
            [
                "10 1\r\n451 732 428 1649 428 1821 1098 756 1599 377\r\n1567\r\n301515216\r\n",
                "10\r\n"
            ],
            [
                "50 1\r\n420 738 531 1575 1728 842 346 786 328 1944 942 1577 1247 1409 194 1398 1417 337 1886 83 559 1125 1741 481 1935 624 893 1028 1626 1143 257 1556 261 1429 642 1997 1720 1400 250 944 466 34 679 160 1138 1688 975 1862 336 1959\r\n1878\r\n27853310\r\n",
                "16\r\n"
            ],
            [
                "100 1\r\n1525 1915 925 1023 803 904 802 1943 954 23 258 505 972 571 1291 1024 161 461 1020 880 67 1975 1612 1599 1024 682 1810 500 1068 1992 1834 79 476 842 1366 17 1307 1595 587 367 1961 1018 960 1699 1799 1453 1890 1003 780 601 131 808 83 26 1894 1345 1835 674 629 525 709 754 988 1612 810 1618 1979 1871 755 1279 407 1052 1951 1047 729 363 1392 1039 701 1915 414 1102 693 1870 1426 447 1428 1272 1500 51 1396 1332 111 556 1440 1199 511 212 42 1547\r\n1882\r\n984199988\r\n",
                "100\r\n"
            ],
            [
                "10 10\r\n461 1459 597 616 902 1894 1457 1248 691 493\r\n1230 150 75 1793 1567 206 1661 560 956 1856\r\n1614959273\r\n",
                "100\r\n"
            ],
            [
                "50 50\r\n175 1571 1423 1837 1228 1923 1369 1875 1105 1762 203 1011 1596 1500 1213 950 557 451 8 390 1704 606 1084 227 1911 1189 795 481 1510 1862 348 1352 69 387 697 595 330 274 721 1842 1836 1164 1031 1880 281 1150 256 1853 1233 1499\r\n1977 1404 1816 1031 1712 390 328 1646 342 462 685 523 435 1548 1383 1649 690 538 1291 1558 720 1145 307 1219 321 109 825 37 1836 989 1360 15 1610 852 923 1734 250 1539 612 1059 96 28 1415 293 1490 1016 1700 908 730 1395\r\n976257664\r\n",
                "1305\r\n"
            ],
            [
                "1 5\r\n549\r\n1422 1870 569 844 1178\r\n3229767\r\n",
                "5\r\n"
            ],
            [
                "1 10\r\n491\r\n980 1907 1241 336 811 1048 957 440 143 1835\r\n1668909\r\n",
                "5\r\n"
            ],
            [
                "1 50\r\n758\r\n1915 1868 1403 691 77 403 1322 701 1192 1463 911 1029 1471 1610 736 1501 1243 1327 1624 412 455 177 371 750 1156 989 1861 498 567 803 1140 346 1654 1961 330 718 943 1880 1476 1193 1666 1757 405 202 417 585 1812 293 791 1858\r\n28031598\r\n",
                "37\r\n"
            ],
            [
                "1 100\r\n1612\r\n1989 1820 1837 815 943 208 131 1252 1372 145 1182 1200 499 1312 1390 829 1343 1378 280 492 609 1439 1128 1597 123 372 953 472 1078 1522 526 1639 1357 1452 1357 89 480 1597 783 177 1106 688 1426 1334 1292 406 1959 1649 1768 1956 1844 273 454 354 1170 1514 10 557 1472 1697 1004 485 1870 1394 102 400 883 1979 938 501 1368 1038 922 1090 1339 1379 254 1335 1853 1923 1249 1449 1588 334 1460 256 1386 918 1818 409 236 1538 346 1860 587 268 81 1015 1838 1955\r\n6983184\r\n",
                "7\r\n"
            ],
            [
                "5 1\r\n416 387 336 116 1081\r\n553\r\n463967\r\n",
                "3\r\n"
            ],
            [
                "10 1\r\n451 732 428 1649 428 1821 1098 756 1599 377\r\n1567\r\n14634213\r\n",
                "10\r\n"
            ],
            [
                "50 1\r\n420 738 531 1575 1728 842 346 786 328 1944 942 1577 1247 1409 194 1398 1417 337 1886 83 559 1125 1741 481 1935 624 893 1028 1626 1143 257 1556 261 1429 642 1997 1720 1400 250 944 466 34 679 160 1138 1688 975 1862 336 1959\r\n1878\r\n16023096\r\n",
                "11\r\n"
            ],
            [
                "100 1\r\n1525 1915 925 1023 803 904 802 1943 954 23 258 505 972 571 1291 1024 161 461 1020 880 67 1975 1612 1599 1024 682 1810 500 1068 1992 1834 79 476 842 1366 17 1307 1595 587 367 1961 1018 960 1699 1799 1453 1890 1003 780 601 131 808 83 26 1894 1345 1835 674 629 525 709 754 988 1612 810 1618 1979 1871 755 1279 407 1052 1951 1047 729 363 1392 1039 701 1915 414 1102 693 1870 1426 447 1428 1272 1500 51 1396 1332 111 556 1440 1199 511 212 42 1547\r\n1882\r\n70074388\r\n",
                "39\r\n"
            ],
            [
                "10 10\r\n461 1459 597 616 902 1894 1457 1248 691 493\r\n1230 150 75 1793 1567 206 1661 560 956 1856\r\n15296685\r\n",
                "30\r\n"
            ],
            [
                "50 50\r\n175 1571 1423 1837 1228 1923 1369 1875 1105 1762 203 1011 1596 1500 1213 950 557 451 8 390 1704 606 1084 227 1911 1189 795 481 1510 1862 348 1352 69 387 697 595 330 274 721 1842 1836 1164 1031 1880 281 1150 256 1853 1233 1499\r\n1977 1404 1816 1031 1712 390 328 1646 342 462 685 523 435 1548 1383 1649 690 538 1291 1558 720 1145 307 1219 321 109 825 37 1836 989 1360 15 1610 852 923 1734 250 1539 612 1059 96 28 1415 293 1490 1016 1700 908 730 1395\r\n244986462\r\n",
                "450\r\n"
            ],
            [
                "1 5\r\n549\r\n1422 1870 569 844 1178\r\n2449088\r\n",
                "3\r\n"
            ],
            [
                "1 10\r\n491\r\n980 1907 1241 336 811 1048 957 440 143 1835\r\n1270707\r\n",
                "3\r\n"
            ],
            [
                "1 50\r\n758\r\n1915 1868 1403 691 77 403 1322 701 1192 1463 911 1029 1471 1610 736 1501 1243 1327 1624 412 455 177 371 750 1156 989 1861 498 567 803 1140 346 1654 1961 330 718 943 1880 1476 1193 1666 1757 405 202 417 585 1812 293 791 1858\r\n27021941\r\n",
                "35\r\n"
            ],
            [
                "1 100\r\n1612\r\n1989 1820 1837 815 943 208 131 1252 1372 145 1182 1200 499 1312 1390 829 1343 1378 280 492 609 1439 1128 1597 123 372 953 472 1078 1522 526 1639 1357 1452 1357 89 480 1597 783 177 1106 688 1426 1334 1292 406 1959 1649 1768 1956 1844 273 454 354 1170 1514 10 557 1472 1697 1004 485 1870 1394 102 400 883 1979 938 501 1368 1038 922 1090 1339 1379 254 1335 1853 1923 1249 1449 1588 334 1460 256 1386 918 1818 409 236 1538 346 1860 587 268 81 1015 1838 1955\r\n6085299\r\n",
                "5\r\n"
            ],
            [
                "5 1\r\n416 387 336 116 1081\r\n553\r\n249955\r\n",
                "1\r\n"
            ],
            [
                "10 1\r\n451 732 428 1649 428 1821 1098 756 1599 377\r\n1567\r\n13927495\r\n",
                "8\r\n"
            ],
            [
                "50 1\r\n420 738 531 1575 1728 842 346 786 328 1944 942 1577 1247 1409 194 1398 1417 337 1886 83 559 1125 1741 481 1935 624 893 1028 1626 1143 257 1556 261 1429 642 1997 1720 1400 250 944 466 34 679 160 1138 1688 975 1862 336 1959\r\n1878\r\n14524451\r\n",
                "9\r\n"
            ],
            [
                "100 1\r\n1525 1915 925 1023 803 904 802 1943 954 23 258 505 972 571 1291 1024 161 461 1020 880 67 1975 1612 1599 1024 682 1810 500 1068 1992 1834 79 476 842 1366 17 1307 1595 587 367 1961 1018 960 1699 1799 1453 1890 1003 780 601 131 808 83 26 1894 1345 1835 674 629 525 709 754 988 1612 810 1618 1979 1871 755 1279 407 1052 1951 1047 729 363 1392 1039 701 1915 414 1102 693 1870 1426 447 1428 1272 1500 51 1396 1332 111 556 1440 1199 511 212 42 1547\r\n1882\r\n66470357\r\n",
                "37\r\n"
            ],
            [
                "10 10\r\n461 1459 597 616 902 1894 1457 1248 691 493\r\n1230 150 75 1793 1567 206 1661 560 956 1856\r\n14737319\r\n",
                "30\r\n"
            ],
            [
                "50 50\r\n175 1571 1423 1837 1228 1923 1369 1875 1105 1762 203 1011 1596 1500 1213 950 557 451 8 390 1704 606 1084 227 1911 1189 795 481 1510 1862 348 1352 69 387 697 595 330 274 721 1842 1836 1164 1031 1880 281 1150 256 1853 1233 1499\r\n1977 1404 1816 1031 1712 390 328 1646 342 462 685 523 435 1548 1383 1649 690 538 1291 1558 720 1145 307 1219 321 109 825 37 1836 989 1360 15 1610 852 923 1734 250 1539 612 1059 96 28 1415 293 1490 1016 1700 908 730 1395\r\n244736879\r\n",
                "450\r\n"
            ],
            [
                "1 1\r\n2000\r\n2000\r\n2000000000\r\n",
                "1\r\n"
            ],
            [
                "235 1\r\n1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\r\n1\r\n1\r\n",
                "1\r\n"
            ]
        ]
    }
]