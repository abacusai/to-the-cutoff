[
    {
        "name": "Maximum White Subtree",
        "description": "You are given a tree consisting of \n    n\n vertices. A tree is a connected\nundirected graph with \n    n-1\n edges. Each vertex \n    v\n of this tree has a\ncolor assigned to it (\n    a_v = 1\n if the vertex \n    v\n is white and \n    0\n\nif the vertex \n    v\n is black). You have to solve the following problem for\neach vertex \n    v\n: what is the maximum difference between the number of\nwhite and the number of black vertices you can obtain if you choose some\nsubtree of the given tree that contains the vertex \n    v\n? The subtree of the\ntree is the connected subgraph of the given tree. More formally, if you choose\nthe subtree that contains \n    cnt_w\n white vertices and \n    cnt_b\n black\nvertices, you have to maximize \n    cnt_w - cnt_b\n. Input The first line of\nthe input contains one integer \n    n\n (\n    2 \n    \u2264 n \n    \u2264 2 \n    \u00b7 10^5\n)\n\u2014 the number of vertices in the tree. The second line of the input contains\n\n    n\n integers \n    a_1, a_2, \n    \u2026, a_n\n (\n    0 \n    \u2264 a_i \n    \u2264 1\n),\nwhere \n    a_i\n is the color of the \n    i\n-th vertex. Each of the next\n\n    n-1\n lines describes an edge of the tree. Edge \n    i\n is denoted by two\nintegers \n    u_i\n and \n    v_i\n, the labels of vertices it connects \n    (1\n    \n    \u2264 u_i, v_i \n    \u2264 n, u_i \n     v_i\n). It is guaranteed that the given\nedges form a tree. Output Print \n    n\n integers \n    res_1, res_2, \n    \u2026,\n    res_n\n, where \n    res_i\n is the maximum possible difference between the\nnumber of white and black vertices in some subtree that contains the vertex\n\n    i\n. Examples Input 9 0 1 1 1 0 0 0 0 1 1 2 1 3 3 4 3 5 2 6 4 7 6 8 5 9\nOutput 2 2 2 2 2 1 1 0 2 Input 4 0 0 1 0 1 2 1 3 1 4 Output 0 -1 1 -1 Note The\nfirst example is shown below: The black vertices have bold borders. In the\nsecond example, the best subtree for vertices \n    2, 3\n and \n    4\n are\nvertices \n    2, 3\n and \n    4\n correspondingly. And the best subtree for the\nvertex \n    1\n is the subtree consisting of vertices \n    1\n and \n    3\n.\n\n",
        "cf_contest_id": 1324,
        "cf_index": "F",
        "cf_rating": 1800,
        "difficulty": 0,
        "cf_tags": [
            "dfs and similar",
            "dp",
            "graphs",
            "trees"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "9\r\n0 1 1 1 0 0 0 0 1\r\n1 2\r\n1 3\r\n3 4\r\n3 5\r\n2 6\r\n4 7\r\n6 8\r\n5 9\r\n",
                "2 2 2 2 2 1 1 0 2\r\n"
            ],
            [
                "4\r\n0 0 1 0\r\n1 2\r\n1 3\r\n1 4\r\n",
                "0 -1 1 -1\r\n"
            ]
        ],
        "private_cases": []
    }
]