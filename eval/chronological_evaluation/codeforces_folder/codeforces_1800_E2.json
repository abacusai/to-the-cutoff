[
    {
        "name": "Unforgivable Curse (hard version)",
        "description": "This is a complex version of the problem. This version has no additional\nrestrictions on the number \n    k\n. The chief wizard of the Wizengamot once\ncaught the evil wizard Drahyrt, but the evil wizard has returned and wants\nrevenge on the chief wizard. So he stole spell \n    s\n from his student Harry.\nThe spell \u2014 is a \n    n\n-length string of lowercase Latin letters. Drahyrt\nwants to replace spell with an unforgivable curse \u2014 string \n    t\n. Dragirt,\nusing ancient magic, can swap letters at a distance \n    k\n or \n    k+1\n in\nspell as many times as he wants. In other words, Drahyrt can change letters in\npositions \n    i\n and \n    j\n in spell \n    s\n if \n    |i-j|=k\n or\n\n    |i-j|=k+1\n. For example, if \n    k = 3, s =\n \"talant\" and \n    t =\n\n\"atltna\", Drahyrt can act as follows: swap the letters at positions \n    1\n\nand \n    4\n to get spell \"aaltnt\". swap the letters at positions \n    2\n and\n\n    6\n to get spell \"atltna\". You are given spells \n    s\n and \n    t\n. Can\nDrahyrt change spell \n    s\n to \n    t\n? Input The first line of input gives a\nsingle integer \n    T\n (\n    1 \n    \u2264 T \n    \u2264 10^4\n) \u2014 the number of test cases\nin the test. Descriptions of the test cases are follow. The first line\ncontains two integers \n    n, k\n (\n    1 \n    \u2264 n \n    \u2264 2 \n    \u00b7 10^5\n, \n    1\n    \n    \u2264 k \n    \u2264 2 \n    \u00b7 10^5\n) \u2014 the length spells and the number \n    k\n\nsuch that Drahyrt can change letters in a spell at a distance \n    k\n or\n\n    k+1\n. The second line gives spell \n    s\n \u2014 a string of length \n    n\n\nconsisting of lowercase Latin letters. The third line gives spell \n    t\n \u2014 a\nstring of length \n    n\n consisting of lowercase Latin letters. It is\nguaranteed that the sum of \n    n\n values over all test cases does not exceed\n\n    2 \n    \u00b7 10^5\n. Note that there is no limit on the sum of \n    k\n values\nover all test cases. Output For each test case, output on a separate line\n\"YES\" if Drahyrt can change spell \n    s\n to \n    t\n and \"NO\" otherwise. You\ncan output the answer in any case (for example, lines \"yEs\", \"yes\", \"Yes\" and\n\"YES\" will be recognized as positive answer). Example Input 7 6 3 talant\natltna 7 1 abacaba aaaabbc 12 6 abracadabraa avadakedavra 5 3 accio cicao 5 4\nlumos molus 4 3 uwjt twju 4 3 kvpx vxpk Output YES YES NO YES NO YES NO Note\nThe first case is explained in the condition. In the second case, we can swap\nadjacent letters, so we can sort the string using bubble sorting, for example.\nIn the third case, we can show that from the string \n    s\n we cannot get the\nstring \n    t\n by swapping letters at a distance of \n    6\n or \n    7\n. In the\nfourth case, for example, the following sequence of transformations is\nappropriate: \"accio\" \n    \u2192\n \"aocic\" \n    \u2192\n \"cocia\"\n\n    \u2192\n \"iocca\" \n    \u2192\n \"aocci\" \n    \u2192\n\n\"aicco\" \n    \u2192\n \"cicao\" In the fifth case, we can show that it is\nimpossible to get the string \n    s\n from the string \n    t\n. In the sixth\nexample, it is enough to swap the two outermost letters.\n\n",
        "cf_contest_id": 1800,
        "cf_index": "E2",
        "cf_rating": 1500,
        "difficulty": 0,
        "cf_tags": [
            "brute force",
            "constructive algorithms",
            "dfs and similar",
            "dsu",
            "graphs",
            "greedy",
            "strings"
        ],
        "time_limit_seconds": 1.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "7\r\n6 3\r\ntalant\r\natltna\r\n7 1\r\nabacaba\r\naaaabbc\r\n12 6\r\nabracadabraa\r\navadakedavra\r\n5 3\r\naccio\r\ncicao\r\n5 4\r\nlumos\r\nmolus\r\n4 3\r\nuwjt\r\ntwju\r\n4 3\r\nkvpx\r\nvxpk\r\n",
                "YES\r\nYES\r\nNO\r\nYES\r\nNO\r\nYES\r\nNO\r\n"
            ]
        ],
        "private_cases": []
    }
]