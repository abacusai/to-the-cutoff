[
    {
        "name": "Entangled Substrings",
        "description": "Quantum entanglement is when two particles link together in a certain way no\nmatter how far apart they are in space. You are given a string \n    s\n. A pair\nof its non-empty substrings \n    (a, b)\n is called entangled if there is a\n(possibly empty) link string \n    c\n such that: Every occurrence of \n    a\n in\n\n    s\n is immediately followed by \n    cb\n; Every occurrence of \n    b\n in\n\n    s\n is immediately preceded by \n    ac\n. In other words, \n    a\n and\n\n    b\n occur in \n    s\n only as substrings of \n    acb\n. Compute the total\nnumber of entangled pairs of substrings of \n    s\n. A string \n    a\n is a\nsubstring of a string \n    b\n if \n    a\n can be obtained from \n    b\n by the\ndeletion of several (possibly zero or all) characters from the beginning and\nseveral (possibly zero or all) characters from the end. Input The first and\nonly line contains a string \n    s\n of lowercase English letters (\n    1 \n    \u2264\n    |s| \n    \u2264 10^5\n) \u2014 the string for which you should count pairs of entangled\nsubstrings. Output Output a single integer, the number of entangled pairs of\nsubstrings of \n    s\n. Examples Input abba Output 1 Input abacaba Output 0\nInput abcabcabcabc Output 5 Input adamant Output 82 Note In the first example,\nthe only entangled pair is (ab,ba). For this pair, the corresponding link\nstring \n    c\n is empty, as they only occur as substrings of the whole string\nabba, which doesn't have any characters between ab and ba. In the second\nexample, there are no entangled pairs. In the third example, the entangled\npairs are (a,b), (b,c), (a,c), (a,bc), and (ab,c). For most pairs, the\ncorresponding link string \n    c\n is empty, except for the pair (a,c), for\nwhich the link string \n    c\n is b, as a and c only occur as substrings of the\nstring abc.\n\n",
        "cf_contest_id": 1817,
        "cf_index": "F",
        "cf_rating": 3500,
        "difficulty": 0,
        "cf_tags": [
            "string suffix structures",
            "strings"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 268.435456,
        "public_cases": [
            [
                "abba\r\n",
                "1"
            ],
            [
                "abacaba\r\n",
                "0"
            ],
            [
                "abcabcabcabc\r\n",
                "5"
            ],
            [
                "adamant\r\n",
                "82"
            ]
        ],
        "private_cases": [
            [
                "fedimser\r\n",
                "167"
            ],
            [
                "disintegrator\r\n",
                "1037"
            ],
            [
                "a\r\n",
                "0"
            ],
            [
                "abacabadabacabaeabacabadabacaba\r\n",
                "0"
            ],
            [
                "abcdefghijklmnopqrstuvwxyz\r\n",
                "20475"
            ],
            [
                "answertotheultimatequestionoflifetheuniverseandeverything\r\n",
                "378468"
            ],
            [
                "rroslgqgfyzaxikhhcfkkcyjvabtwdbqakxgugfnqyewkovfmhfafcbljzzdbakklbihsatlbgsldbqpivvvluhqtdnnyqsfjlvfqoklsbvkpmhrvniwgjhoikjtqigqdwbnvsbbzpgkmkhqfcpjbcqkvmwkrolzrqlpamwkikatagqoyaazftrkgvaviresjbrtlskzhxfwsqtpyptbwliobeywyqcjxijayyeclwyqdvdkeuaejjdizjoppbjmoqdmgafdmbwwpahffjttgfdmqiueziggtwzzddanynvzjzcnijgbhisrrccslqtdcdpsigigokglmmjkokbppdonmvqwstbxdqjwsrabyemfagbzccgrrdsalecwqpecfwophtrqmoacxfpdgglcpucwdbimqqdulydjekwzcsrrgzykaantahrvvgebaeqgpbibpjeiciphicfbhkzsvpofbgsthf\r\n",
                "2127655463"
            ],
            [
                "aabdbddcaabbcccabcbadadbbcddcbbdbbaadcbcdabdccbadbacdbbdcdbbccacca\r\n",
                "580327"
            ],
            [
                "lbkgircdbr\r\n",
                "357"
            ],
            [
                "zhh\r\n",
                "1"
            ],
            [
                "vzcaonudppbkckblxwhscsobbkzdhvpdhcdytsrnsfkztiwbupqemknubzyzcuccshdvmtymijvteyfzglvlqrfrtbzdtkurgjsfaoyvxmplddcscrkbmuktdmjunponduakfmeopugxrnkgwaaqllxuakaqsnmvfyeifkjw\r\n",
                "31618004"
            ],
            [
                "bt\r\n",
                "1"
            ],
            [
                "ctjfjfilqa\r\n",
                "355"
            ],
            [
                "ww\r\n",
                "0"
            ],
            [
                "nsfsgfs\r\n",
                "41"
            ],
            [
                "igiggr\r\n",
                "16"
            ],
            [
                "qrwrere\r\n",
                "41"
            ],
            [
                "aaab\r\n",
                "1"
            ],
            [
                "dyqyq\r\n",
                "7"
            ],
            [
                "okdudu\r\n",
                "22"
            ],
            [
                "uhvqagzltihyeofkhfmvpxrxulmuqwzgcdodtbjbkqgpvvdgksqotyxyepdtzlcuibzdilsahjbakqbgapqnvlwycsvdqunhayxawppvplpgmcfijtmzdlncfssyvcpcvpkcflissbfcifleecvxzukhnqxilyqrdktvytetebuewwztppapudxnclrslzykkiafaeujdtpgvwnaycjpezkkyfdjubicilvnljzrnvvwkmhhjqjsbjbbwlueuhcnppibklsjleymwdisdplzehfkqvvbdrujuioearlrjezyjksycxqwpailowkanrixzajpfwhqtazdrkltcypsavhhxosfxuqwvrlysryzmfczmfotyqwjpxbtncogzcioazzjgieofvlbvusbkhsqfutxrorbxheteoupcazzorreajp\r\n",
                "1404183021"
            ],
            [
                "slavaukrainegeroyamslava\r\n",
                "7926"
            ],
            [
                "ihgjfipibefkigircememhoopkgfqobgfbnnirjdprihgjfipibefkigircememhoopkgfqobgfbnnirjdprihgjfipibefkigircememhoopkgfqobgfbnnirjdprihgjfipibefkigircememhoopkgfqobgfbnn\r\n",
                "78874"
            ],
            [
                "qiwnqmnfubuzkhqjdneubzqgsewjhexiacoloblttutrsicqmlyzhwtssbwkgixoeshwnpjkdbplqjzkzybdikshcsiwdhljuwhuzpaympntdmakurponoyywvlebjagtciqhhmcgdvbkmabfzltfsupvyhgrkqvsbdzgjjnubfzekmgywtykleenkisdiipkvztfnvolpzxqmzidsxjvokyragmgpltsacxtvvnxadtlqdejzckxvtcmkdwxmlacbostxgutmajybteemsvnflzeoktvapbtglubmvihnwqxqetuaemgkgpltqsdvuxnxzrmlcawevbtikyzzatshcnxtfjvpjpgdtgrkukqkeibvgwhdkgoetacmcvswwmidiyavyyspfmtfzvqrjzaxzdpoiddu\r\n",
                "1195806374"
            ],
            [
                "yjkpuwlcfgkbhonoamfpcgrrwaicowiuodikbnaybtaozupzgzdjfskgvsvycksnotdixoukfciaumifsjjgcvcawropeirxegkzlxjjmyafkpytkewcevlpdlnucpcoitxzwhelgxqxezpzklrcldytmvdlrtohtlujbqwsjkhwng\r\n",
                "36566238"
            ],
            [
                "ybwrorofup\r\n",
                "361"
            ]
        ]
    }
]