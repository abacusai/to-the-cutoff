[
    {
        "name": "Balanced Domino Placements",
        "description": "Consider a square grid with \n    h\n rows and \n    w\n columns with some\ndominoes on it. Each domino covers exactly two cells of the grid that share a\ncommon side. Every cell is covered by at most one domino. Let's call a\nplacement of dominoes on the grid perfectly balanced if no row and no column\ncontains a pair of cells covered by two different dominoes. In other words,\nevery row and column may contain no covered cells, one covered cell, or two\ncovered cells that belong to the same domino. You are given a perfectly\nbalanced placement of dominoes on a grid. Find the number of ways to place\nzero or more extra dominoes on this grid to keep the placement perfectly\nbalanced. Output this number modulo \n    998\n     244\n     353\n. Input The first\nline contains three integers \n    h\n, \n    w\n, and \n    n\n (\n    1 \n    \u2264 h, w\n    \n    \u2264 3600\n; \n    0 \n    \u2264 n \n    \u2264 2400\n), denoting the dimensions of the\ngrid and the number of already placed dominoes. The rows are numbered from\n\n    1\n to \n    h\n, and the columns are numbered from \n    1\n to \n    w\n. Each\nof the next \n    n\n lines contains four integers \n    r_i, 1, c_i, 1, r_i,\n    2, c_i, 2\n (\n    1 \n    \u2264 r_i, 1\n    \u2264 r_i, 2\n    \u2264 h\n; \n    1 \n    \u2264\n    c_i, 1\n    \u2264 c_i, 2\n    \u2264 w\n), denoting the row id and the column id of\nthe cells covered by the \n    i\n-th domino. Cells \n    (r_i, 1, c_i, 1)\n\nand \n    (r_i, 2, c_i, 2)\n are distinct and share a common side. The given\ndomino placement is perfectly balanced. Output Output the number of ways to\nplace zero or more extra dominoes on the grid to keep the placement perfectly\nbalanced, modulo \n    998\n     244\n     353\n. Examples Input 5 7 2 3 1 3 2 4 4 4 5\nOutput 8 Input 5 4 2 1 2 2 2 4 3 4 4 Output 1 Input 23 42 0 Output 102848351\nNote In the first example, the initial grid looks like this: Here are \n    8\n\nways to place zero or more extra dominoes to keep the placement perfectly\nbalanced: In the second example, the initial grid looks like this: No extra\ndominoes can be placed here.\n\n",
        "cf_contest_id": 1237,
        "cf_index": "F",
        "cf_rating": 2600,
        "difficulty": 0,
        "cf_tags": [
            "combinatorics",
            "dp"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 512.0,
        "public_cases": [
            [
                "5 7 2\r\n3 1 3 2\r\n4 4 4 5\r\n",
                "8"
            ],
            [
                "5 4 2\r\n1 2 2 2\r\n4 3 4 4\r\n",
                "1"
            ],
            [
                "23 42 0\r\n",
                "102848351"
            ]
        ],
        "private_cases": [
            [
                "1 1 0\r\n",
                "1"
            ],
            [
                "4 5 0\r\n",
                "178"
            ],
            [
                "9 8 4\r\n8 6 9 6\r\n3 8 4 8\r\n5 3 6 3\r\n7 1 7 2\r\n",
                "6"
            ],
            [
                "16 39 9\r\n3 28 3 29\r\n5 27 6 27\r\n12 32 12 33\r\n10 39 11 39\r\n1 22 1 23\r\n7 36 7 37\r\n2 9 2 10\r\n14 21 15 21\r\n4 34 4 35\r\n",
                "77137"
            ],
            [
                "54 53 9\r\n11 45 12 45\r\n25 23 26 23\r\n13 39 14 39\r\n37 6 38 6\r\n20 30 21 30\r\n27 35 28 35\r\n6 4 7 4\r\n33 1 34 1\r\n47 41 48 41\r\n",
                "796215167"
            ],
            [
                "3600 3600 0\r\n",
                "537036583"
            ],
            [
                "3600 3600 20\r\n380 2371 381 2371\r\n1458 239 1458 240\r\n3075 2519 3075 2520\r\n3456 2092 3456 2093\r\n1731 3132 1731 3133\r\n2403 1200 2403 1201\r\n1114 3050 1114 3051\r\n3070 1284 3071 1284\r\n1906 3242 1906 3243\r\n833 1904 834 1904\r\n120 2663 121 2663\r\n1290 2199 1290 2200\r\n1275 3113 1275 3114\r\n276 78 276 79\r\n3510 2412 3511 2412\r\n1189 2996 1189 2997\r\n1764 2367 1765 2367\r\n286 2122 287 2122\r\n51 2356 51 2357\r\n1722 1471 1722 1472\r\n",
                "276971428"
            ],
            [
                "1 3600 0\r\n",
                "3600"
            ],
            [
                "3600 1 1\r\n414 1 415 1\r\n",
                "1"
            ],
            [
                "1 2 1\r\n1 1 1 2\r\n",
                "1"
            ],
            [
                "1 2 0\r\n",
                "2"
            ],
            [
                "2 1 1\r\n1 1 2 1\r\n",
                "1"
            ],
            [
                "2 1 0\r\n",
                "2"
            ],
            [
                "1 3600 1\r\n1 3071 1 3072\r\n",
                "1"
            ],
            [
                "3600 1 0\r\n",
                "3600"
            ]
        ]
    }
]