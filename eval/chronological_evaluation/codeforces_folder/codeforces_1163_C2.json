[
    {
        "name": "Power Transmission (Hard Edition)",
        "description": "This problem is same as the previous one, but has larger constraints. It was a\nSunday morning when the three friends Selena, Shiro and Katie decided to have\na trip to the nearby power station (do not try this at home). After arriving\nat the power station, the cats got impressed with a large power transmission\nsystem consisting of many chimneys, electric poles, and wires. Since they are\ncats, they found those things gigantic. At the entrance of the station, there\nis a map describing the complicated wiring system. Selena is the best at math\namong three friends. He decided to draw the map on the Cartesian plane. Each\npole is now a point at some coordinates \n    (x_i, y_i)\n. Since every pole is\ndifferent, all of the points representing these poles are distinct. Also,\nevery two poles are connected with each other by wires. A wire is a straight\nline on the plane infinite in both directions. If there are more than two\npoles lying on the same line, they are connected by a single common wire.\nSelena thinks, that whenever two different electric wires intersect, they may\ninterfere with each other and cause damage. So he wonders, how many pairs are\nintersecting? Could you help him with this problem? Input The first line\ncontains a single integer \n    n\n (\n    2 \n    \u2264 n \n    \u2264 1000\n) \u2014 the number of\nelectric poles. Each of the following \n    n\n lines contains two integers\n\n    x_i\n, \n    y_i\n (\n    -10^4 \n    \u2264 x_i, y_i \n    \u2264 10^4\n) \u2014 the coordinates\nof the poles. It is guaranteed that all of these \n    n\n points are distinct.\nOutput Print a single integer \u2014 the number of pairs of wires that are\nintersecting. Examples Input 4 0 0 1 1 0 3 1 2 Output 14 Input 4 0 0 0 2 0 4 2\n0 Output 6 Input 3 -1 -1 1 0 3 1 Output 0 Note In the first example: In the\nsecond example: Note that the three poles \n    (0, 0)\n, \n    (0, 2)\n and\n\n    (0, 4)\n are connected by a single wire. In the third example:\n\n",
        "cf_contest_id": 1163,
        "cf_index": "C2",
        "cf_rating": 1900,
        "difficulty": 0,
        "cf_tags": [
            "data structures",
            "geometry",
            "implementation",
            "math"
        ],
        "time_limit_seconds": 3.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "4\r\n0 0\r\n1 1\r\n0 3\r\n1 2\r\n",
                "14"
            ],
            [
                "4\r\n0 0\r\n0 2\r\n0 4\r\n2 0\r\n",
                "6"
            ],
            [
                "3\r\n-1 -1\r\n1 0\r\n3 1\r\n",
                "0"
            ]
        ],
        "private_cases": [
            [
                "4\r\n-10000 -10000\r\n-10000 10000\r\n10000 -10000\r\n10000 10000\r\n",
                "13"
            ],
            [
                "4\r\n-10000 -10000\r\n-10000 -9999\r\n10000 10000\r\n9999 10000\r\n",
                "14"
            ],
            [
                "16\r\n0 0\r\n0 2\r\n0 4\r\n0 6\r\n2 0\r\n2 2\r\n2 4\r\n2 6\r\n4 0\r\n4 2\r\n4 4\r\n4 6\r\n6 0\r\n6 2\r\n6 4\r\n6 6\r\n",
                "1783"
            ],
            [
                "25\r\n-10000 -10000\r\n-10000 -5000\r\n-10000 0\r\n-10000 5000\r\n-10000 10000\r\n-5000 -10000\r\n-5000 -5000\r\n-5000 0\r\n-5000 5000\r\n-5000 10000\r\n0 -10000\r\n0 -5000\r\n0 0\r\n0 5000\r\n0 10000\r\n5000 -10000\r\n5000 -5000\r\n5000 0\r\n5000 5000\r\n5000 10000\r\n10000 -10000\r\n10000 -5000\r\n10000 0\r\n10000 5000\r\n10000 10000\r\n",
                "9324"
            ],
            [
                "2\r\n10000 10000\r\n-10000 -10000\r\n",
                "0"
            ]
        ]
    }
]