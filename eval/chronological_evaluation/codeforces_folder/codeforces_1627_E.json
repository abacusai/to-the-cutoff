[
    {
        "name": "Not Escaping",
        "description": "Major Ram is being chased by his arch enemy Raghav. Ram must reach the top of\nthe building to escape via helicopter. The building, however, is on fire. Ram\nmust choose the optimal path to reach the top of the building to lose the\nminimum amount of health. The building consists of \n    n\n floors, each with\n\n    m\n rooms each. Let \n    (i, j)\n represent the \n    j\n-th room on the\n\n    i\n-th floor. Additionally, there are \n    k\n ladders installed. The\n\n    i\n-th ladder allows Ram to travel from \n    (a_i, b_i)\n to \n    (c_i,\n    d_i)\n, but not in the other direction. Ram also gains \n    h_i\n health\npoints if he uses the ladder \n    i\n. It is guaranteed \n    a_i < c_i\n for all\nladders. If Ram is on the \n    i\n-th floor, he can move either left or right.\nTravelling across floors, however, is treacherous. If Ram travels from \n    (i,\n    j)\n to \n    (i, k)\n, he loses \n    |j-k| \n    \u00b7 x_i\n health points. Ram\nenters the building at \n    (1, 1)\n while his helicopter is waiting at \n    (n,\n    m)\n. What is the minimum amount of health Ram loses if he takes the most\noptimal path? Note this answer may be negative (in which case he gains\nhealth). Output \"NO ESCAPE\" if no matter what path Ram takes, he cannot escape\nthe clutches of Raghav. Input The first line of input contains \n    t\n (\n    1\n    \n    \u2264 t \n    \u2264 5 \n    \u00b7 10^4\n) \u2014 the number of test cases. The first line\nof each test case consists of \n    3\n integers \n    n, m, k\n (\n    2 \n    \u2264 n, m\n    \n    \u2264 10^5\n; \n    1 \n    \u2264 k \n    \u2264 10^5\n) \u2014 the number of floors, the\nnumber of rooms on each floor and the number of ladders respectively. The\nsecond line of a test case consists of \n    n\n integers \n    x_1, x_2, \n    \u2026,\n    x_n\n (\n    1 \n    \u2264 x_i \n    \u2264 10^6\n). The next \n    k\n lines describe the\nladders. Ladder \n    i\n is denoted by \n    a_i, b_i, c_i, d_i, h_i\n (\n    1\n    \n    \u2264 a_i < c_i \n    \u2264 n\n; \n    1 \n    \u2264 b_i, d_i \n    \u2264 m\n; \n    1 \n    \u2264\n    h_i \n    \u2264 10^6\n) \u2014 the rooms it connects and the health points gained from\nusing it. It is guaranteed \n    a_i < c_i\n for all ladders and there is at\nmost one ladder between any 2 rooms in the building. The sum of \n    n\n, the\nsum of \n    m\n, and the sum of \n    k\n over all test cases do not exceed\n\n    10^5\n. Output Output the minimum health Ram loses on the optimal path\nfrom \n    (1, 1)\n to \n    (n, m)\n. If Ram cannot escape the clutches of Raghav\nregardless of the path he takes, output \"NO ESCAPE\" (all uppercase, without\nquotes). Example Input 4 5 3 3 5 17 8 1 4 1 3 3 3 4 3 1 5 2 5 3 2 5 1 6 6 3 3\n5 17 8 1 4 2 1 3 3 3 4 3 1 5 2 5 3 2 5 1 6 5 3 1 5 17 8 1 4 1 3 5 3 100 5 5 5\n3 2 3 7 5 3 5 4 2 1 2 2 5 4 5 4 4 5 2 3 1 2 4 2 2 3 3 5 2 4 Output 16 NO\nESCAPE -90 27 Note The figure for the first test case is in the statement.\nThere are only \n    2\n possible paths to \n    (n, m)\n: Ram travels to \n    (1,\n    3)\n, takes the ladder to \n    (3, 3)\n, travels to \n    (3, 2)\n, takes the\nladder to \n    (5, 1)\n, travels to \n    (5, 3)\n where he finally escapes via\nhelicopter. The health lost would be \n    \n\n    = x_1 \n        \u00b7 |1-3| - h_1 + x_3 \n        \u00b7 |3-2| - h_3 +\n        x_5 \n        \u00b7 |1-3| \n        \n        \n            = 5 \n        \u00b7 2 - 4 + 8 \n        \u00b7 1 - 6 + 4 \n        \u00b7 2\n        \n        \n        \n            = 16.\n\n    \n Ram travels to \n    (1, 3)\n, takes the\nladder to \n    (3, 3)\n, travels to \n    (3, 1)\n, takes the ladder to \n    (5,\n    2)\n, travels to \n    (5, 3)\n where he finally escapes via helicopter. The\nhealth lost would be \n    \n\n    = x_1\n        \n        \u00b7 |1-3| - h_1 + x_3 \n        \u00b7 |3-1| - h_2 + a_5 \n        \u00b7 |2-3| \n        \n        \n            = 5\n        \n        \u00b7 2 - 4 + 8 \n        \u00b7 2 - 5 + 4 \n        \u00b7 1 \n        \n        \n            = 21.\n\n    \n Therefore, the minimum health lost would be \n    16\n.In the second test\ncase, there is no path to \n    (n, m)\n. In the third case case, Ram travels to\n\n    (1, 3)\n and takes the only ladder to \n    (5, 3)\n. He loses \n    5 \n    \u00b7\n    2\n health points and gains \n    h_1 = 100\n health points. Therefore the\ntotal loss is \n    10-100=-90\n (negative implies he gains health after the\npath).\n\n",
        "cf_contest_id": 1627,
        "cf_index": "E",
        "cf_rating": 2200,
        "difficulty": 0,
        "cf_tags": [
            "data structures",
            "dp",
            "implementation",
            "shortest paths",
            "two pointers"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "4\r\n5 3 3\r\n5 17 8 1 4\r\n1 3 3 3 4\r\n3 1 5 2 5\r\n3 2 5 1 6\r\n6 3 3\r\n5 17 8 1 4 2\r\n1 3 3 3 4\r\n3 1 5 2 5\r\n3 2 5 1 6\r\n5 3 1\r\n5 17 8 1 4\r\n1 3 5 3 100\r\n5 5 5\r\n3 2 3 7 5\r\n3 5 4 2 1\r\n2 2 5 4 5\r\n4 4 5 2 3\r\n1 2 4 2 2\r\n3 3 5 2 4\r\n",
                "16\r\nNO ESCAPE\r\n-90\r\n27\r\n"
            ]
        ],
        "private_cases": []
    }
]