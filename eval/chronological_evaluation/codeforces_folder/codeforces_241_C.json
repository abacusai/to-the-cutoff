[
    {
        "name": "Mirror Box",
        "description": "Mirror Box is a name of a popular game in the Iranian National Amusement Park\n(INAP). There is a wooden box, 10^5 cm long and 100 cm high in this game. Some\nparts of the box's ceiling and floor are covered by mirrors. There are two\nnegligibly small holes in the opposite sides of the box at heights hl and hr\ncentimeters above the floor. The picture below shows what the box looks like.\nIn the game, you will be given a laser gun to shoot once. The laser beam must\nenter from one hole and exit from the other one. Each mirror has a preset\nnumber vi, which shows the number of points players gain if their laser beam\nhits that mirror. Also \u2014 to make things even funnier \u2014 the beam must not hit\nany mirror more than once. Given the information about the box, your task is\nto find the maximum score a player may gain. Please note that the reflection\nobeys the law \"the angle of incidence equals the angle of reflection\". Input\nThe first line of the input contains three space-separated integers hl, hr, n\n(0 < hl, hr < 100, 0 \u2264 n \u2264 100) \u2014 the heights of the holes and the number of\nthe mirrors. Next n lines contain the descriptions of the mirrors. The i-th\nline contains space-separated vi, ci, ai, bi; the integer vi (1 \u2264 vi \u2264 1000)\nis the score for the i-th mirror; the character ci denotes i-th mirror's\nposition \u2014 the mirror is on the ceiling if ci equals \"T\" and on the floor if\nci equals \"F\"; integers ai and bi (0 \u2264 ai < bi \u2264 10^5) represent the\nx-coordinates of the beginning and the end of the mirror. No two mirrors will\nshare a common point. Consider that the x coordinate increases in the\ndirection from left to right, so the border with the hole at height hl has the\nx coordinate equal to 0 and the border with the hole at height hr has the x\ncoordinate equal to 10^5. Output The only line of output should contain a\nsingle integer \u2014 the maximum possible score a player could gain. Examples\nInput 50 50 7 10 F 1 80000 20 T 1 80000 30 T 81000 82000 40 T 83000 84000 50 T\n85000 86000 60 T 87000 88000 70 F 81000 89000 Output 100 Input 80 72 9 15 T\n8210 15679 10 F 11940 22399 50 T 30600 44789 50 F 32090 36579 5 F 45520 48519\n120 F 49250 55229 8 F 59700 80609 35 T 61940 64939 2 T 92540 97769 Output 120\nNote The second sample is depicted above. The red beam gets 10 + 50 + 5 + 35 +\n8 + 2 = 110 points and the blue one gets 120. The red beam on the picture\ngiven in the statement shows how the laser beam can go approximately, this is\njust illustration how the laser beam can gain score. So for the second sample\nthere is no such beam that gain score 110.\n\n",
        "cf_contest_id": 241,
        "cf_index": "C",
        "cf_rating": 2000,
        "difficulty": 0,
        "cf_tags": [
            "geometry",
            "implementation"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "50 50 7\r\n10 F 1 80000\r\n20 T 1 80000\r\n30 T 81000 82000\r\n40 T 83000 84000\r\n50 T 85000 86000\r\n60 T 87000 88000\r\n70 F 81000 89000\r\n",
                "100\r\n"
            ],
            [
                "80 72 9\r\n15 T 8210 15679\r\n10 F 11940 22399\r\n50 T 30600 44789\r\n50 F 32090 36579\r\n5 F 45520 48519\r\n120 F 49250 55229\r\n8 F 59700 80609\r\n35 T 61940 64939\r\n2 T 92540 97769\r\n",
                "120\r\n"
            ]
        ],
        "private_cases": [
            [
                "64 62 5\r\n399 F 0 32857\r\n976 F 32858 90921\r\n677 F 90922 100000\r\n451 T 0 6013\r\n998 T 6014 100000\r\n",
                "2373\r\n"
            ],
            [
                "39 83 10\r\n250 F 0 49500\r\n953 F 49501 73803\r\n456 F 73804 98640\r\n742 F 98641 100000\r\n588 T 0 11943\r\n641 T 11944 53490\r\n898 T 53491 69321\r\n396 T 69322 82471\r\n960 T 82472 88629\r\n654 T 88630 100000\r\n",
                "4440\r\n"
            ],
            [
                "94 44 5\r\n777 T 49764 52945\r\n227 F 61904 99720\r\n753 T 8362 23475\r\n101 T 53949 90957\r\n393 T 37776 47363\r\n",
                "753\r\n"
            ],
            [
                "19 84 10\r\n274 F 68387 85109\r\n970 T 82797 86105\r\n992 F 23071 31500\r\n253 T 49404 53878\r\n594 F 3898 19630\r\n737 T 1919 49338\r\n760 F 42271 55593\r\n550 T 64701 81888\r\n84 F 59015 59285\r\n254 F 85615 92432\r\n",
                "1605\r\n"
            ]
        ]
    }
]