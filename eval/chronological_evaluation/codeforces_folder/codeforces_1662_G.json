[
    {
        "name": "Gastronomic Event",
        "description": "SWERC organizers want to hold a gastronomic event. The location of the event\nis a building with \n    n\n rooms connected by \n    n-1\n corridors (each\ncorridor connects two rooms) so that it is possible to go from any room to any\nother room. In each room you have to set up the tasting of a typical Italian\ndish. You can choose from \n    n\n typical Italian dishes rated from \n    1\n to\n\n    n\n depending on how good they are (\n    n\n is the best possible rating).\nThe \n    n\n dishes have distinct ratings. You want to assign the \n    n\n\ndishes to the \n    n\n rooms so that the number of pleasing tours is maximal. A\npleasing tour is a nonempty sequence of rooms so that: Each room in the\nsequence is connected to the next one in the sequence by a corridor. The\nratings of the dishes in the rooms (in the order given by the sequence) are\nincreasing. If you assign the \n    n\n dishes optimally, what is the maximum\nnumber of pleasing tours? Input The first line contains an integer \n    n\n\n(\n    2\n    \u2264 n\n    \u2264 1\n     000\n     000\n) \u2014 the number of rooms. The second line\ncontains \n    n-1\n integers \n    p_2, p_3, \n    \u22ef , p_n\n (\n    1 \n    \u2264 p_i <\n    i\n). Each \n    p_i\n indicates that there is a corridor between room \n    i\n\nand room \n    p_i\n. It is guaranteed that the building has the property that\nit is possible to go from any room to any other room. Output Print the maximum\nnumber of pleasing tours. Examples Input 5 1 2 2 2 Output 13 Input 10 1 2 3 4\n3 2 7 8 7 Output 47 Note In the first sample, it is optimal to place the dish\nwith rating \n    1\n in room \n    1\n, the dish with rating \n    2\n in room\n\n    3\n, the dish with rating \n    3\n in room \n    2\n, the dish with rating\n\n    4\n in room \n    5\n and the dish with rating \n    5\n in room \n    4\n. All\nthe \n    13\n possible pleasing tours are: \n    (1)\n, \n    (2)\n, \n    (3)\n,\n\n    (4)\n, \n    (5)\n, \n    (1,2)\n, \n    (3,2)\n, \n    (2,4)\n, \n    (2,5)\n,\n\n    (1,2,4)\n, \n    (1,2,5)\n, \n    (3,2,4)\n, \n    (3,2,5)\n. There are also\nother ways to assign the dishes to the rooms so that there are \n    13\n\npleasing tours.\n\n",
        "cf_contest_id": 1662,
        "cf_index": "G",
        "cf_rating": 0,
        "difficulty": 0,
        "cf_tags": [
            "dp",
            "greedy",
            "trees"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 512.0,
        "public_cases": [
            [
                "5\r\n1 2 2 2\r\n",
                "13\r\n"
            ],
            [
                "10\r\n1 2 3 4 3 2 7 8 7\r\n",
                "47\r\n"
            ]
        ],
        "private_cases": [
            [
                "2\r\n1\r\n",
                "3\r\n"
            ],
            [
                "3\r\n1 1\r\n",
                "6\r\n"
            ],
            [
                "13\r\n1 2 3 3 2 6 6 2 9 2 11 1\r\n",
                "68\r\n"
            ],
            [
                "100\r\n1 2 3 4 5 6 7 7 9 10 11 9 13 6 5 16 5 18 19 20 20 22 19 24 19 26 19 19 18 5 4 32 33 32 4 36 37 37 39 4 3 3 43 44 2 46 47 48 49 50 51 52 51 54 54 54 50 58 50 50 61 48 63 63 47 66 47 68 69 70 70 72 68 47 47 46 77 46 2 80 80 2 83 84 85 86 87 85 89 84 91 91 91 94 84 84 84 2 2\r\n",
                "3002\r\n"
            ],
            [
                "100\r\n1 2 3 4 5 5 5 4 9 9 9 4 13 13 4 4 17 4 4 4 4 4 4 4 4 3 27 28 27 27 27 27 27 27 27 27 27 27 3 40 40 40 40 40 40 3 47 47 3 50 50 50 3 54 54 54 3 58 58 58 58 3 3 64 3 66 3 68 68 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 2 2 2 2 2 2 91 2 2 2 2 2 2 2 2\r\n",
                "2732\r\n"
            ],
            [
                "100\r\n1 2 3 4 5 6 7 8 4 10 11 12 13 14 15 16 17 18 19 20 20 17 23 23 25 26 27 28 29 27 31 32 33 33 35 36 37 36 39 40 41 41 43 43 41 46 40 48 49 50 51 51 48 54 55 55 57 58 48 60 61 62 62 64 65 60 67 68 60 36 35 72 73 74 75 76 76 78 79 80 78 82 83 84 85 75 75 88 73 72 32 92 31 25 95 14 14 14 2\r\n",
                "3283\r\n"
            ]
        ]
    }
]