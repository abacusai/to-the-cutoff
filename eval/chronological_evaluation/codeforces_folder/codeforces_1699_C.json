[
    {
        "name": "The Third Problem",
        "description": "You are given a permutation \n    a_1,a_2,\n    \u2026,a_n\n of integers from\n\n    0\n to \n    n - 1\n. Your task is to find how many permutations\n\n    b_1,b_2,\n    \u2026,b_n\n are similar to permutation \n    a\n. Two\npermutations \n    a\n and \n    b\n of size \n    n\n are considered similar if for\nall intervals \n    [l,r]\n (\n    1 \n    \u2264 l \n    \u2264 r \n    \u2264 n\n), the following\ncondition is satisfied:\n\n    \n\n    MEX([a_l,a_l+1,\n    \u2026,a_r])=\n    MEX([b_l,b_l+1,\n    \u2026,b_r]),\n\n    \n\nwhere the \n    MEX\n of a collection of integers\n\n    c_1,c_2,\n    \u2026,c_k\n is defined as the smallest non-negative integer\n\n    x\n which does not occur in collection \n    c\n. For example,\n\n    MEX([1,2,3,4,5])=0\n, and\n\n    MEX([0,1,2,4,5])=3\n. Since the total number of such\npermutations can be very large, you will have to print its remainder modulo\n\n    10^9+7\n. In this problem, a permutation of size \n    n\n is an array\nconsisting of \n    n\n distinct integers from \n    0\n to \n    n-1\n in arbitrary\norder. For example, \n    [1,0,2,4,3]\n is a permutation, while \n    [0,1,1]\n is\nnot, since \n    1\n appears twice in the array. \n    [0,1,3]\n is also not a\npermutation, since \n    n=3\n and there is a \n    3\n in the array. Input Each\ntest contains multiple test cases. The first line of input contains one\ninteger \n    t\n (\n    1 \n    \u2264 t \n    \u2264 10^4\n) \u2014 the number of test cases. The\nfollowing lines contain the descriptions of the test cases. The first line of\neach test case contains a single integer \n    n\n (\n    1 \n    \u2264 n \n    \u2264 10^5\n)\n\u2014 the size of permutation \n    a\n. The second line of each test case contains\n\n    n\n distinct integers \n    a_1,a_2,\n    \u2026,a_n\n (\n    0 \n    \u2264 a_i \n    \n    n\n) \u2014 the elements of permutation \n    a\n. It is guaranteed that the sum of\n\n    n\n across all test cases does not exceed \n    10^5\n. Output For each test\ncase, print a single integer, the number of permutations similar to\npermutation \n    a\n, taken modulo \n    10^9+7\n. Example Input 5 5 4 0 3 2 1 1\n0 4 0 1 2 3 6 1 2 4 0 5 3 8 1 3 7 2 5 0 6 4 Output 2 1 1 4 72 Note For the\nfirst test case, the only permutations similar to \n    a=[4,0,3,2,1]\n are\n\n    [4,0,3,2,1]\n and \n    [4,0,2,3,1]\n. For the second and third test cases,\nthe given permutations are only similar to themselves. For the fourth test\ncase, there are \n    4\n permutations similar to \n    a=[1,2,4,0,5,3]\n:\n\n    [1,2,4,0,5,3]\n; \n    [1,2,5,0,4,3]\n; \n    [1,4,2,0,5,3]\n;\n\n    [1,5,2,0,4,3]\n.\n\n",
        "cf_contest_id": 1699,
        "cf_index": "C",
        "cf_rating": 1700,
        "difficulty": 0,
        "cf_tags": [
            "combinatorics",
            "constructive algorithms",
            "math"
        ],
        "time_limit_seconds": 1.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "5\r\n5\r\n4 0 3 2 1\r\n1\r\n0\r\n4\r\n0 1 2 3\r\n6\r\n1 2 4 0 5 3\r\n8\r\n1 3 7 2 5 0 6 4\r\n",
                "2\r\n1\r\n1\r\n4\r\n72\r\n"
            ]
        ],
        "private_cases": []
    }
]