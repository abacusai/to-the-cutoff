[
    {
        "name": "Circular Mirror",
        "description": "Pak Chanek has a mirror in the shape of a circle. There are \n    N\n lamps on\nthe circumference numbered from \n    1\n to \n    N\n in clockwise order. The\nlength of the arc from lamp \n    i\n to lamp \n    i+1\n is \n    D_i\n for \n    1\n    \n    \u2264 i \n    \u2264 N-1\n. Meanwhile, the length of the arc between lamp \n    N\n\nand lamp \n    1\n is \n    D_N\n. Pak Chanek wants to colour the lamps with\n\n    M\n different colours. Each lamp can be coloured with one of the \n    M\n\ncolours. However, there cannot be three different lamps such that the colours\nof the three lamps are the same and the triangle made by considering the three\nlamps as vertices is a right triangle (triangle with one of its angles being\nexactly \n    90\n degrees). The following are examples of lamp colouring\nconfigurations on the circular mirror. Figure 1. an example of an incorrect\ncolouring because lamps \n    1\n, \n    2\n, and \n    3\n form a right\ntriangleFigure 2. an example of a correct colouringFigure 3. an example of a\ncorrect colouring Before colouring the lamps, Pak Chanek wants to know the\nnumber of distinct colouring configurations he can make. Count the number of\ndistinct possible lamp colouring configurations, modulo\n\n    998\n     244\n     353\n. Input The first line contains two integers \n    N\n\nand \n    M\n (\n    1 \n    \u2264 N \n    \u2264 3 \n    \u00b7 10^5\n, \n    2 \n    \u2264 M \n    \u2264 3\n    \n    \u00b7 10^5\n) \u2014 the number of lamps in the mirror and the number of\ndifferent colours used. The second line contains \n    N\n integers \n    D_1, D_2,\n    \n    \u2026, D_N\n (\n    1 \n    \u2264 D_i \n    \u2264 10^9\n) \u2014 the lengths of the arcs\nbetween the lamps in the mirror. Output An integer representing the number of\npossible lamp colouring configurations, modulo \n    998\n     244\n     353\n.\nExamples Input 4 2 10 10 6 14 Output 10 Input 1 2 10 Output 2 Note In the\nfirst example, all correct lamp colouring configurations are \n    [1, 1, 2,\n    1]\n, \n    [1, 1, 2, 2]\n, \n    [1, 2, 1, 2]\n, \n    [1, 2, 2, 1]\n, \n    [1, 2,\n    2, 2]\n, \n    [2, 1, 1, 1]\n, \n    [2, 1, 1, 2]\n, \n    [2, 1, 2, 1]\n, \n    [2,\n    2, 1, 1]\n, and \n    [2, 2, 1, 2]\n.\n\n",
        "cf_contest_id": 1725,
        "cf_index": "C",
        "cf_rating": 2000,
        "difficulty": 0,
        "cf_tags": [
            "binary search",
            "combinatorics",
            "geometry",
            "math",
            "two pointers"
        ],
        "time_limit_seconds": 1.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "4 2\r\n10 10 6 14\r\n",
                "10\r\n"
            ],
            [
                "1 2\r\n10\r\n",
                "2\r\n"
            ]
        ],
        "private_cases": [
            [
                "2 2\r\n1000000000 1000000000\r\n",
                "4\r\n"
            ],
            [
                "2 2\r\n349374 228922\r\n",
                "4\r\n"
            ],
            [
                "3 2\r\n4 2 3\r\n",
                "8\r\n"
            ],
            [
                "4 2\r\n1000000000 1000000000 1000000000 1000000000\r\n",
                "6\r\n"
            ],
            [
                "5 2\r\n1 1000000000 1000000000 1000000000 999999999\r\n",
                "8\r\n"
            ],
            [
                "5 2\r\n1000000000 1000000000 1000000000 1000000000 1000000000\r\n",
                "32\r\n"
            ],
            [
                "2 5\r\n1 1000000000\r\n",
                "25\r\n"
            ],
            [
                "3 5\r\n3745212 10 999999999\r\n",
                "125\r\n"
            ],
            [
                "4 3\r\n10 415533 1000000000 150000\r\n",
                "81\r\n"
            ],
            [
                "4 5\r\n10 10 10 10\r\n",
                "540\r\n"
            ]
        ]
    }
]