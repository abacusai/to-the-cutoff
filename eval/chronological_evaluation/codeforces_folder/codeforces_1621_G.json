[
    {
        "name": "Weighted Increasing Subsequences",
        "description": "You are given the sequence of integers \n    a_1, a_2, \n    \u2026, a_n\n of length\n\n    n\n. The sequence of indices \n    i_1 < i_2 < \n    \u2026 < i_k\n of length\n\n    k\n denotes the subsequence \n    a_i_1, a_i_2, \n    \u2026, a_i_k\n of\nlength \n    k\n of sequence \n    a\n. The subsequence \n    a_i_1, a_i_2,\n    \n    \u2026, a_i_k\n of length \n    k\n of sequence \n    a\n is called\nincreasing subsequence if \n    a_i_j < a_i_j+1\n for each \n    1 \n    \u2264 j <\n    k\n. The weight of the increasing subsequence \n    a_i_1, a_i_2, \n    \u2026,\n    a_i_k\n of length \n    k\n of sequence \n    a\n is the number of \n    1 \n    \u2264\n    j \n    \u2264 k\n, such that exists index \n    i_k < x \n    \u2264 n\n and \n    a_x >\n    a_i_j\n. For example, if \n    a = [6, 4, 8, 6, 5]\n, then the sequence of\nindices \n    i = [2, 4]\n denotes increasing subsequence \n    [4, 6]\n of\nsequence \n    a\n. The weight of this increasing subsequence is \n    1\n,\nbecause for \n    j = 1\n exists \n    x = 5\n and \n    a_5 = 5 > a_i_1 = 4\n,\nbut for \n    j = 2\n such \n    x\n doesn't exist. Find the sum of weights of all\nincreasing subsequences of \n    a\n modulo \n    10^9+7\n. Input The first line\ncontains a single integer \n    t\n (\n    1 \n    \u2264 t \n    \u2264 1000\n) \u2014 the number\nof test cases. The first line of each test case contains the single integer\n\n    n\n (\n    1 \n    \u2264 n \n    \u2264 2 \n    \u00b7 10^5\n) \u2014 the length of the sequence\n\n    a\n. The second line of each test case contains \n    n\n integers \n    a_1,\n    a_2, \n    \u2026, a_n\n (\n    1 \n    \u2264 a_i \n    \u2264 10^9\n) \u2014 the sequence \n    a\n.\nIt is guaranteed that the sum of \n    n\n over all test cases doesn't exceed\n\n    2 \n    \u00b7 10^5\n. Output For each test case, print the sum of weights of\nall increasing subsequences \n    a\n modulo \n    10^9+7\n. Example Input 4 5 6 4\n8 6 5 4 1 2 3 4 3 3 2 2 4 4 5 6 5 Output 4 12 0 6 Note In the first test case\nthe following increasing subsequences of \n    a\n have not zero weight: The\nweight of \n    [a_1] = [6]\n is \n    1\n. The weight of \n    [a_2] = [4]\n is\n\n    1\n. The weight of \n    [a_2, a_3] = [4, 8]\n is \n    1\n. The weight of\n\n    [a_2, a_4] = [4, 6]\n is \n    1\n. The sum of weights of increasing\nsubsequences is \n    4\n.In the second test case there are \n    7\n increasing\nsubsequences of \n    a\n with not zero weight: \n    3\n with weight \n    1\n,\n\n    3\n with weight \n    2\n and \n    1\n with weight \n    3\n. The sum of\nweights is \n    12\n.\n\n",
        "cf_contest_id": 1621,
        "cf_index": "G",
        "cf_rating": 3200,
        "difficulty": 0,
        "cf_tags": [
            "data structures",
            "dp",
            "math"
        ],
        "time_limit_seconds": 1.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "4\r\n5\r\n6 4 8 6 5\r\n4\r\n1 2 3 4\r\n3\r\n3 2 2\r\n4\r\n4 5 6 5\r\n",
                "4\r\n12\r\n0\r\n6\r\n"
            ]
        ],
        "private_cases": []
    }
]