[
    {
        "name": "Intersection and Union",
        "description": "You are given \n    n\n segments on the coordinate axis. The \n    i\n-th segment\nis \n    [l_i, r_i]\n. Let's denote the set of all integer points belonging to\nthe \n    i\n-th segment as \n    S_i\n. Let \n    A \n    \u222a B\n be the union of two\nsets \n    A\n and \n    B\n, \n    A \n    \u2229 B\n be the intersection of two sets\n\n    A\n and \n    B\n, and \n    A \n    \u2295 B\n be the symmetric difference of\n\n    A\n and \n    B\n (a set which contains all elements of \n    A\n and all\nelements of \n    B\n, except for the ones that belong to both sets). Let\n\n    [\n    op_1, \n    op_2, \n    \u2026, \n    op_n-1]\n be\nan array where each element is either \n    \u222a\n, \n    \u2295\n, or\n\n    \u2229\n. Over all \n    3^n-1\n ways to choose this array, calculate the\nsum of the following values: \n    \n\n    |(((S_1\n     \n    op_1\n     S_2)\n    \n    op_2\n     S_3)\n     \n    op_3\n     S_4)\n     \n    \u2026\n    \n    op_n-1\n     S_n|\n\n    \n In this expression, \n    |S|\n denotes the\nsize of the set \n    S\n. Input The first line contains one integer \n    n\n\n(\n    2 \n    \u2264 n \n    \u2264 3 \n    \u00b7 10^5\n). Then, \n    n\n lines follow. The\n\n    i\n-th of them contains two integers \n    l_i\n and \n    r_i\n (\n    0 \n    \u2264\n    l_i \n    \u2264 r_i \n    \u2264 3 \n    \u00b7 10^5\n). Output Print one integer \u2014 the sum of\n\n    |(((S_1\n     \n    op_1\n     S_2)\n     \n    op_2\n     S_3)\n    \n    op_3\n     S_4)\n     \n    \u2026\n     \n    op_n-1\n     S_n|\n over\nall possible ways to choose \n    [\n    op_1, \n    op_2, \n    \u2026,\n    \n    op_n-1]\n. Since the answer can be huge, print it modulo\n\n    998244353\n. Examples Input 4 3 5 4 8 2 2 1 9 Output 162 Input 4 1 9 3 5 4\n8 2 2 Output 102\n\n",
        "cf_contest_id": 1743,
        "cf_index": "F",
        "cf_rating": 2300,
        "difficulty": 0,
        "cf_tags": [
            "data structures",
            "dp",
            "matrices",
            "probabilities"
        ],
        "time_limit_seconds": 5.0,
        "memory_limit_bytes": 512.0,
        "public_cases": [
            [
                "4\r\n3 5\r\n4 8\r\n2 2\r\n1 9\r\n",
                "162"
            ],
            [
                "4\r\n1 9\r\n3 5\r\n4 8\r\n2 2\r\n",
                "102"
            ]
        ],
        "private_cases": [
            [
                "10\r\n11 19\r\n4 7\r\n6 12\r\n10 11\r\n3 10\r\n3 17\r\n5 14\r\n13 18\r\n12 13\r\n6 7\r\n",
                "98036"
            ],
            [
                "10\r\n7 10\r\n4 12\r\n11 19\r\n2 13\r\n14 20\r\n4 18\r\n3 18\r\n0 14\r\n11 15\r\n2 2\r\n",
                "130302"
            ],
            [
                "10\r\n1 20\r\n4 8\r\n0 0\r\n2 10\r\n17 20\r\n7 11\r\n17 19\r\n12 18\r\n3 15\r\n1 3\r\n",
                "168222"
            ],
            [
                "10\r\n1 16\r\n7 9\r\n1 7\r\n10 16\r\n10 10\r\n5 15\r\n7 7\r\n1 3\r\n5 14\r\n11 17\r\n",
                "162606"
            ],
            [
                "10\r\n12 17\r\n10 15\r\n3 14\r\n14 18\r\n0 20\r\n5 11\r\n0 20\r\n15 18\r\n0 10\r\n7 17\r\n",
                "219186"
            ],
            [
                "2\r\n1 1\r\n2 2\r\n",
                "4"
            ],
            [
                "2\r\n1 1\r\n1 1\r\n",
                "2"
            ],
            [
                "33\r\n1 50\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n5 5\r\n",
                "262926708"
            ]
        ]
    }
]