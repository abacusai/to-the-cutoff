[
    {
        "name": "Cut",
        "description": "This time Baby Ehab will only cut and not stick. He starts with a piece of\npaper with an array \n    a\n of length \n    n\n written on it, and then he does\nthe following: he picks a range \n    (l, r)\n and cuts the subsegment \n    a_l,\n    a_l + 1, \n    \u2026, a_r\n out, removing the rest of the array. he then cuts\nthis range into multiple subranges. to add a number theory spice to it, he\nrequires that the elements of every subrange must have their product equal to\ntheir least common multiple (LCM). Formally, he partitions the elements of\n\n    a_l, a_l + 1, \n    \u2026, a_r\n into contiguous subarrays such that the\nproduct of every subarray is equal to its LCM. Now, for \n    q\n independent\nranges \n    (l, r)\n, tell Baby Ehab the minimum number of subarrays he needs.\nInput The first line contains \n    2\n integers \n    n\n and \n    q\n (\n    1 \n    \u2264\n    n,q \n    \u2264 10^5\n) \u2014 the length of the array \n    a\n and the number of\nqueries. The next line contains \n    n\n integers \n    a_1\n, \n    a_2\n,\n\n    \u2026\n, \n    a_n\n (\n    1 \n    \u2264 a_i \n    \u2264 10^5\n) \u2014 the elements of the\narray \n    a\n. Each of the next \n    q\n lines contains \n    2\n integers\n\n    l\n and \n    r\n (\n    1 \n    \u2264 l \n    \u2264 r \n    \u2264 n\n) \u2014 the endpoints of this\nquery's interval. Output For each query, print its answer on a new line.\nExample Input 6 3 2 3 10 7 5 14 1 6 2 4 3 5 Output 3 1 2 Note The first query\nasks about the whole array. You can partition it into \n    [2]\n,\n\n    [3,10,7]\n, and \n    [5,14]\n. The first subrange has product and LCM equal\nto \n    2\n. The second has product and LCM equal to \n    210\n. And the third\nhas product and LCM equal to \n    70\n. Another possible partitioning is\n\n    [2,3]\n, \n    [10,7]\n, and \n    [5,14]\n. The second query asks about the\nrange \n    (2,4)\n. Its product is equal to its LCM, so you don't need to\npartition it further. The last query asks about the range \n    (3,5)\n. You can\npartition it into \n    [10,7]\n and \n    [5]\n.\n\n",
        "cf_contest_id": 1516,
        "cf_index": "D",
        "cf_rating": 2100,
        "difficulty": 0,
        "cf_tags": [
            "binary search",
            "data structures",
            "dp",
            "graphs",
            "number theory",
            "two pointers"
        ],
        "time_limit_seconds": 1.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "6 3\r\n2 3 10 7 5 14\r\n1 6\r\n2 4\r\n3 5\r\n",
                "3\r\n1\r\n2\r\n"
            ]
        ],
        "private_cases": [
            [
                "1 1\r\n100000\r\n1 1\r\n",
                "1\r\n"
            ]
        ]
    }
]