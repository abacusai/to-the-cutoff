[
    {
        "name": "Beautiful Array",
        "description": "You are given an array \n    a\n consisting of \n    n\n integers. Beauty of array\nis the maximum sum of some consecutive subarray of this array (this subarray\nmay be empty). For example, the beauty of the array [10, -5, 10, -4, 1] is 15,\nand the beauty of the array [-3, -5, -1] is 0. You may choose at most one\nconsecutive subarray of \n    a\n and multiply all values contained in this\nsubarray by \n    x\n. You want to maximize the beauty of array after applying\nat most one such operation. Input The first line contains two integers \n    n\n\nand \n    x\n (\n    1 \n    \u2264 n \n    \u2264 3 \n    \u00b7 10^5, -100 \n    \u2264 x \n    \u2264 100\n) \u2014\nthe length of array \n    a\n and the integer \n    x\n respectively. The second\nline contains \n    n\n integers \n    a_1, a_2, \n    \u2026, a_n\n (\n    -10^9 \n    \u2264\n    a_i \n    \u2264 10^9\n) \u2014 the array \n    a\n. Output Print one integer \u2014 the maximum\npossible beauty of array \n    a\n after multiplying all values belonging to\nsome consecutive subarray \n    x\n. Examples Input 5 -2 -3 8 -2 1 -6 Output 22\nInput 12 -3 1 3 3 7 1 3 3 7 1 3 3 7 Output 42 Input 5 10 -1 -2 -3 -4 -5 Output\n0 Note In the first test case we need to multiply the subarray [-2, 1, -6],\nand the array becomes [-3, 8, 4, -2, 12] with beauty 22 ([-3, 8, 4, -2, 12]).\nIn the second test case we don't need to multiply any subarray at all. In the\nthird test case no matter which subarray we multiply, the beauty of array will\nbe equal to 0.\n\n",
        "cf_contest_id": 1155,
        "cf_index": "D",
        "cf_rating": 1900,
        "difficulty": 0,
        "cf_tags": [
            "brute force",
            "data structures",
            "divide and conquer",
            "dp",
            "greedy"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "5 -2\r\n-3 8 -2 1 -6\r\n",
                "22"
            ],
            [
                "12 -3\r\n1 3 3 7 1 3 3 7 1 3 3 7\r\n",
                "42"
            ],
            [
                "5 10\r\n-1 -2 -3 -4 -5\r\n",
                "0"
            ]
        ],
        "private_cases": [
            [
                "10 100\r\n1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000\r\n",
                "1000000000000"
            ],
            [
                "3 0\r\n1 -10 2\r\n",
                "3"
            ],
            [
                "5 0\r\n5 -10 -10 -10 6\r\n",
                "11"
            ],
            [
                "5 0\r\n-12 10 -9 10 -12\r\n",
                "20"
            ],
            [
                "5 0\r\n-3 8 -2 1 -6\r\n",
                "9"
            ],
            [
                "5 -2\r\n-5 5 -5 5 5\r\n",
                "25"
            ],
            [
                "5 0\r\n10 -5 10 -4 7\r\n",
                "23"
            ],
            [
                "5 0\r\n100 -2 -3 -4 5\r\n",
                "105"
            ],
            [
                "5 -1\r\n-3 3 -5 0 -5\r\n",
                "13"
            ],
            [
                "8 -5\r\n-1 1 -4 0 1 -5 2 0\r\n",
                "43"
            ],
            [
                "6 -1\r\n-1 1 -1 1 -1 1\r\n",
                "3"
            ],
            [
                "7 0\r\n5 -5 -5 -5 5 5 5\r\n",
                "20"
            ],
            [
                "5 0\r\n1 -1 -2 3 -4\r\n",
                "4"
            ],
            [
                "5 0\r\n1 -10 2 -10 3\r\n",
                "5"
            ],
            [
                "12 0\r\n516886745 863558529 725534320 -476894082 -367873680 984444967 -179610789 -226927004 -433201102 -328480313 836969657 -860311698\r\n",
                "3090424561"
            ],
            [
                "8 0\r\n-2 -3 4 -1 -2 1 5 -3\r\n",
                "10"
            ],
            [
                "5 0\r\n0 -2 1 -4 1\r\n",
                "2"
            ],
            [
                "6 0\r\n100 100 100 -10000 100 -10000\r\n",
                "400"
            ],
            [
                "5 0\r\n1 2 -3 4 5\r\n",
                "12"
            ],
            [
                "6 0\r\n1 -5 2 -7 -7 3\r\n",
                "5"
            ],
            [
                "20 -45\r\n258724997 -785871818 782985138 -634742565 -441581905 -805809066 280018540 -580223434 111100989 261073170 -228599873 -952789056 -546984180 63225670 928739598 -722252666 884612638 745266043 -890049463 -945276047\r\n",
                "161916758521"
            ],
            [
                "4 -2\r\n-1 1 -2 -3\r\n",
                "11"
            ],
            [
                "5 0\r\n1 2 3 -999999 10\r\n",
                "16"
            ],
            [
                "4 -1\r\n-1 1 -1 3\r\n",
                "5"
            ],
            [
                "1 10\r\n-1\r\n",
                "0"
            ],
            [
                "5 -2\r\n10 -3 10 -2 -2\r\n",
                "26"
            ],
            [
                "17 -35\r\n138863522 -763922306 -747654041 62569781 913789268 51272833 508697810 773008119 -977056807 687653428 109017489 19592255 -861227612 -876222938 657271514 -395334151 -745198581\r\n",
                "85662026916"
            ],
            [
                "4 0\r\n-3 4 -1 9\r\n",
                "13"
            ],
            [
                "14 0\r\n-13 -12 4 -12 21 -1 -17 21 3 4 21 -3 -5 -4\r\n",
                "70"
            ],
            [
                "5 -1\r\n-2 -4 5 -3 -4\r\n",
                "12"
            ],
            [
                "5 -1\r\n-5 -2 6 -3 -5\r\n",
                "14"
            ],
            [
                "10 -3\r\n0 -8 7 -2 -10 -10 7 1 7 -8\r\n",
                "88"
            ],
            [
                "42 0\r\n286046708 405034560 -729242288 -594215986 -417878652 197367358 -252467864 -633931002 396498018 -511564535 -989028451 133570042 -189524845 -823874429 -29495943 609283144 349227466 -228464789 -326269641 -837429605 310547279 27725681 -167613209 -86658444 900798243 607258117 280296177 -521198948 862072118 -758282415 -801169109 892055264 46442426 -23191339 -34045601 -537875046 538522323 -831256376 -700385529 758255934 -265266910 -962343358\r\n",
                "3171737624"
            ],
            [
                "26 0\r\n2 -6 0 6 -4 4 -2 -1 8 1 3 -10 7 -4 8 8 9 -8 -5 8 8 -8 4 3 -7 5\r\n",
                "49"
            ],
            [
                "4 0\r\n-1000 5 -3 5\r\n",
                "10"
            ],
            [
                "40 -98\r\n67397987 -343838159 -618322596 -546414490 293066140 -773772966 277974552 -434260219 -791222310 -340023233 -737934384 910703436 -308962211 735427170 -284205825 955071831 926268695 915895023 -442261754 -165237941 -739567764 -160138112 98200520 143131806 -205877346 -473890188 714869937 797682377 -395221452 551109182 -760816208 -244257455 895516323 -163654048 633273357 469354271 -419989073 -700814005 -939790951 694327902\r\n",
                "397915082781"
            ],
            [
                "7 -2\r\n-1000 999 -999 -1 -2 -3 10\r\n",
                "3019"
            ],
            [
                "5 0\r\n-8 3 -3 5 -4\r\n",
                "8"
            ],
            [
                "5 0\r\n1 2 -3 -4 6\r\n",
                "9"
            ],
            [
                "3 0\r\n5 -5 5\r\n",
                "10"
            ],
            [
                "1 0\r\n1\r\n",
                "1"
            ],
            [
                "5 0\r\n100 -1 -2 -3 5\r\n",
                "105"
            ],
            [
                "1 0\r\n100\r\n",
                "100"
            ],
            [
                "21 -1\r\n369656457 983010976 579153117 966986334 -112879188 -583181121 606082142 63045074 -363741696 589071324 -328685035 755235379 909933454 541317219 450989416 -709630451 651403110 796187891 467448699 943322585 -963217967\r\n",
                "8993986588"
            ],
            [
                "1 1\r\n1\r\n",
                "1"
            ],
            [
                "5 0\r\n1 2 -3 -4 5\r\n",
                "8"
            ],
            [
                "8 -7\r\n0 -8 2 -4 0 9 -9 -3\r\n",
                "93"
            ],
            [
                "3 0\r\n9 -8 9\r\n",
                "18"
            ],
            [
                "4 -2\r\n-4 3 -7 -1\r\n",
                "19"
            ],
            [
                "5 -1\r\n1 -10 10 -10 7\r\n",
                "27"
            ],
            [
                "8 -2\r\n-5 -3 -1 10 -2 -6 8 9\r\n",
                "43"
            ],
            [
                "12 0\r\n1 3 -77 7 -77 3 3 7 1 3 3 7\r\n",
                "34"
            ],
            [
                "8 -1\r\n4 -3 -20 -1 20 -20 -2 10\r\n",
                "52"
            ],
            [
                "4 -4\r\n-6 5 -1 -9\r\n",
                "45"
            ],
            [
                "4 0\r\n-100 10 -100 10\r\n",
                "20"
            ],
            [
                "5 0\r\n1 -2 -3 4 -5\r\n",
                "5"
            ],
            [
                "4 -2\r\n-7 7 -3 -7\r\n",
                "27"
            ],
            [
                "10 -56\r\n40 -76 8 39 -23 38 -82 -41 -15 58\r\n",
                "8610"
            ],
            [
                "6 -1\r\n-5 1 2 -3 4 -5\r\n",
                "10"
            ],
            [
                "21 0\r\n-256 355 198 397 -970 -868 -697 -998 572 -271 358 923 176 -27 988 -956 677 -267 786 -157 363\r\n",
                "4121"
            ],
            [
                "4 0\r\n6 7 -10 4\r\n",
                "17"
            ],
            [
                "8 -4\r\n-10 -9 10 -10 -5 10 -5 6\r\n",
                "107"
            ],
            [
                "59 -43\r\n0 -19 -25 96 -4 -34 59 23 60 33 51 -62 -97 -59 -89 -42 65 33 49 49 68 -74 23 20 15 -100 58 47 -89 93 -37 39 -19 66 -96 -43 -38 -57 58 -13 -19 79 -74 84 -77 44 -84 76 -61 23 -15 -13 -2 -86 -27 38 42 -90 -50\r\n",
                "19376"
            ],
            [
                "9 -2\r\n-9 7 -6 -3 -5 -6 7 -8 1\r\n",
                "54"
            ],
            [
                "5 0\r\n-3 9 -5 1 10\r\n",
                "20"
            ],
            [
                "3 0\r\n1 -41 1\r\n",
                "2"
            ],
            [
                "1 -5\r\n-5\r\n",
                "25"
            ],
            [
                "9 0\r\n-6 0 2 -1 -4 -8 -10 2 -8\r\n",
                "4"
            ],
            [
                "6 -6\r\n77 -30 -5 -33 -67 -76\r\n",
                "1343"
            ],
            [
                "8 1\r\n-7 9 -3 0 5 8 -4 3\r\n",
                "19"
            ],
            [
                "3 0\r\n5 -10 5\r\n",
                "10"
            ],
            [
                "6 0\r\n-10 0 9 -4 -7 3\r\n",
                "12"
            ],
            [
                "3 -6\r\n-9 -3 9\r\n",
                "81"
            ],
            [
                "5 -2\r\n-4 -3 6 -7 2\r\n",
                "22"
            ],
            [
                "8 -1\r\n-1 -2 -3 6 -1 -2 -3 100\r\n",
                "112"
            ],
            [
                "9 0\r\n-10 8 -6 3 -4 9 -5 -8 -8\r\n",
                "17"
            ],
            [
                "5 -1\r\n-3 3 -3 3 -3\r\n",
                "9"
            ],
            [
                "5 0\r\n-12 11 -9 10 -12\r\n",
                "21"
            ],
            [
                "1 59\r\n402422091\r\n",
                "23742903369"
            ],
            [
                "9 -6\r\n-9 8 -10 4 -10 -10 -9 -7 -8\r\n",
                "308"
            ],
            [
                "1 0\r\n-5\r\n",
                "0"
            ],
            [
                "3 0\r\n3 -1 2\r\n",
                "5"
            ],
            [
                "3 2\r\n-8 8 -1\r\n",
                "16"
            ],
            [
                "6 0\r\n-3 2 -3 7 3 9\r\n",
                "21"
            ],
            [
                "9 0\r\n-8 10 5 -9 6 -5 -9 7 -7\r\n",
                "22"
            ],
            [
                "3 0\r\n1 -1 1\r\n",
                "2"
            ],
            [
                "1 1\r\n100\r\n",
                "100"
            ],
            [
                "5 0\r\n5 1 -5 6 2\r\n",
                "14"
            ],
            [
                "1 -7\r\n10\r\n",
                "10"
            ],
            [
                "4 -1\r\n-6 6 0 -9\r\n",
                "15"
            ],
            [
                "4 0\r\n3 -6 -3 2\r\n",
                "5"
            ],
            [
                "4 0\r\n10 -7 2 4\r\n",
                "16"
            ],
            [
                "8 -7\r\n-9 9 -2 -10 -9 -8 1 10\r\n",
                "223"
            ],
            [
                "1 10\r\n10\r\n",
                "100"
            ],
            [
                "1 4\r\n7\r\n",
                "28"
            ],
            [
                "7 0\r\n0 -4 -2 4 -6 8 -3\r\n",
                "12"
            ],
            [
                "6 5\r\n-100 -100 -100 -100 -100 1000\r\n",
                "5000"
            ],
            [
                "5 -1\r\n5 -10 8 -10 -9\r\n",
                "27"
            ],
            [
                "9 0\r\n-10 3 4 -8 -8 -4 -1 5 4\r\n",
                "16"
            ],
            [
                "5 65\r\n344 -333 -155 758 -845\r\n",
                "49270"
            ],
            [
                "4 0\r\n1 -2 -3 3\r\n",
                "4"
            ],
            [
                "4 0\r\n-9 8 -6 8\r\n",
                "16"
            ],
            [
                "1 6\r\n5\r\n",
                "30"
            ],
            [
                "6 0\r\n1 -2 -3 3 -8 -2\r\n",
                "4"
            ],
            [
                "9 -2\r\n192 805 -674 966 -220 50 647 39 -691\r\n",
                "3827"
            ],
            [
                "6 -2\r\n-9 1 6 -7 -4 -1\r\n",
                "31"
            ],
            [
                "5 -1\r\n-5 4 -10 10 -1\r\n",
                "24"
            ],
            [
                "10 -2\r\n-7 -4 10 -9 -5 -9 -2 -8 3 -9\r\n",
                "88"
            ],
            [
                "7 0\r\n9 8 1 -3 7 9 8\r\n",
                "42"
            ],
            [
                "3 -1\r\n1 -9 -6\r\n",
                "16"
            ],
            [
                "7 0\r\n1 -2 -3 3 -8 -2 7\r\n",
                "10"
            ],
            [
                "9 0\r\n-8 -6 -8 3 -9 -6 5 4 -3\r\n",
                "12"
            ],
            [
                "1 -1\r\n-1\r\n",
                "1"
            ],
            [
                "10 0\r\n-8 5 -4 -7 9 2 -8 -8 2 0\r\n",
                "16"
            ],
            [
                "7 -1\r\n0 -9 15 -5 15 -9 0\r\n",
                "35"
            ],
            [
                "12 0\r\n-78 -23 -16 4 -12 -8 22 79 -52 26 19 -3\r\n",
                "146"
            ],
            [
                "3 -2\r\n-3 3 1\r\n",
                "10"
            ],
            [
                "8 0\r\n-1 2 -1 1 -1 -2 2 0\r\n",
                "4"
            ],
            [
                "1 -1\r\n1\r\n",
                "1"
            ],
            [
                "1 1\r\n-1\r\n",
                "0"
            ],
            [
                "5 1\r\n2 -2 0 1 0\r\n",
                "2"
            ],
            [
                "2 -2\r\n-2 2\r\n",
                "6"
            ],
            [
                "1 2\r\n5\r\n",
                "10"
            ],
            [
                "5 0\r\n-12 10 -10 10 -12\r\n",
                "20"
            ]
        ]
    }
]