[
    {
        "name": "Interval-Free Permutations",
        "description": "Consider a permutation \n    p_1, p_2, \n    \u2026 p_n\n of integers from 1 to\n\n    n\n. We call a sub-segment \n    p_l, p_l+1, \n    \u2026, p_r-1, p_r\n of\nthe permutation an interval if it is a reordering of some set of consecutive\nintegers. For example, the permutation \n    (6,7,1,8,5,3,2,4)\n has the\nintervals \n    (6,7)\n, \n    (5,3,2,4)\n, \n    (3,2)\n, and others. Each\npermutation has some trivial intervals \u2014 the full permutation itself and every\nsingle element. We call a permutation interval-free if it does not have non-\ntrivial intervals. In other words, interval-free permutation does not have\nintervals of length between 2 and \n    n - 1\n inclusive. Your task is to count\nthe number of interval-free permutations of length \n    n\n modulo prime number\n\n    p\n. Input In the first line of the input there are two integers \n    t\n\n(\n    1 \n    \u2264 t \n    \u2264 400\n) and \n    p\n (\n    10^8 \n    \u2264 p \n    \u2264 10^9\n) \u2014 the\nnumber of test cases to solve and the prime modulo. In each of the next\n\n    t\n lines there is one integer \n    n\n (\n    1 \n    \u2264 n \n    \u2264 400\n) \u2014 the\nlength of the permutation. Output For each of \n    t\n test cases print a\nsingle integer \u2014 the number of interval-free permutations modulo \n    p\n.\nExamples Input 4 998244353 1 4 5 9 Output 1 2 6 28146 Input 1 437122297 20\nOutput 67777575 Note For \n    n = 1\n the only permutation is interval-free.\nFor \n    n = 4\n two interval-free permutations are \n    (2,4,1,3)\n and\n\n    (3,1,4,2)\n. For \n    n = 5\n \u2014 \n    (2,4,1,5,3)\n, \n    (2,5,3,1,4)\n,\n\n    (3,1,5,2,4)\n, \n    (3,5,1,4,2)\n, \n    (4,1,3,5,2)\n, and\n\n    (4,2,5,1,3)\n. We will not list all 28146 for \n    n = 9\n, but for example\n\n    (4,7,9,5,1,8,2,6,3)\n, \n    (2,4,6,1,9,7,3,8,5)\n,\n\n    (3,6,9,4,1,5,8,2,7)\n, and \n    (8,4,9,1,3,6,2,7,5)\n are interval-free.\nThe exact value for \n    n = 20\n is 264111424634864638.\n\n",
        "cf_contest_id": 1089,
        "cf_index": "I",
        "cf_rating": 2600,
        "difficulty": 0,
        "cf_tags": [
            "combinatorics"
        ],
        "time_limit_seconds": 1.5,
        "memory_limit_bytes": 512.0,
        "public_cases": [
            [
                "4 998244353\r\n1\r\n4\r\n5\r\n9\r\n",
                "1\r\n2\r\n6\r\n28146\r\n"
            ],
            [
                "1 437122297\r\n20\r\n",
                "67777575\r\n"
            ]
        ],
        "private_cases": [
            [
                "9 386018153\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n",
                "1\r\n2\r\n0\r\n2\r\n6\r\n46\r\n338\r\n2926\r\n28146\r\n"
            ]
        ]
    }
]