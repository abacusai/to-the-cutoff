[
    {
        "name": "Chamber of Secrets",
        "description": "\"The Chamber of Secrets has been opened again\" \u2014 this news has spread all\naround Hogwarts and some of the students have been petrified due to seeing the\nbasilisk. Dumbledore got fired and now Harry is trying to enter the Chamber of\nSecrets. These aren't good news for Lord Voldemort. The problem is, he doesn't\nwant anybody to be able to enter the chamber. The Dark Lord is going to be\nbusy sucking life out of Ginny. The Chamber of Secrets is an n \u00d7 m rectangular\ngrid in which some of the cells are columns. A light ray (and a basilisk's\ngaze) passes through the columns without changing its direction. But with some\nspell we can make a column magic to reflect the light ray (or the gaze) in all\nfour directions when it receives the ray. This is shown in the figure below.\nThe left light ray passes through a regular column, and the right ray \u2014\nthrough the magic column. The basilisk is located at the right side of the\nlower right cell of the grid and is looking to the left (in the direction of\nthe lower left cell). According to the legend, anyone who meets a basilisk's\ngaze directly dies immediately. But if someone meets a basilisk's gaze through\na column, this person will get petrified. We know that the door to the Chamber\nis located on the left side of the upper left corner of the grid and anyone\nwho wants to enter will look in the direction of its movement (in the\ndirection of the upper right cell) from that position. This figure illustrates\nthe first sample test. Given the dimensions of the chamber and the location of\nregular columns, Lord Voldemort has asked you to find the minimum number of\ncolumns that we need to make magic so that anyone who wants to enter the\nchamber would be petrified or just declare that it's impossible to secure the\nchamber. Input The first line of the input contains two integer numbers n and\nm (2 \u2264 n, m \u2264 1000). Each of the next n lines contains m characters. Each\ncharacter is either \".\" or \"#\" and represents one cell of the Chamber grid.\nIt's \".\" if the corresponding cell is empty and \"#\" if it's a regular column.\nOutput Print the minimum number of columns to make magic or -1 if it's\nimpossible to do. Examples Input 3 3 .#. ... .#. Output 2 Input 4 3 ##. ...\n.#. .#. Output 2 Note The figure above shows the first sample test. In the\nfirst sample we should make both columns magic. The dragon figure represents\nthe basilisk and the binoculars represent the person who will enter the\nChamber of secrets. The black star shows the place where the person will be\npetrified. Yellow lines represent basilisk gaze moving through columns.\n\n",
        "cf_contest_id": 173,
        "cf_index": "B",
        "cf_rating": 1800,
        "difficulty": 0,
        "cf_tags": [
            "dfs and similar",
            "shortest paths"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "3 3\r\n.#.\r\n...\r\n.#.\r\n",
                "2\r\n"
            ],
            [
                "4 3\r\n##.\r\n...\r\n.#.\r\n.#.\r\n",
                "2\r\n"
            ]
        ],
        "private_cases": [
            [
                "3 3\r\n###\r\n###\r\n###\r\n",
                "2\r\n"
            ],
            [
                "5 5\r\n.##..\r\n.##..\r\n.#.#.\r\n..#..\r\n..#..\r\n",
                "2\r\n"
            ],
            [
                "5 5\r\n.#.#.\r\n#..#.\r\n.#.##\r\n.#.##\r\n##.#.\r\n",
                "2\r\n"
            ],
            [
                "5 5\r\n.####\r\n#.###\r\n#####\r\n#.###\r\n#####\r\n",
                "2\r\n"
            ],
            [
                "5 5\r\n.####\r\n#.#.#\r\n#####\r\n#####\r\n#####\r\n",
                "2\r\n"
            ],
            [
                "5 5\r\n#####\r\n#####\r\n#####\r\n#####\r\n#####\r\n",
                "2\r\n"
            ],
            [
                "2 42\r\n.########.#.########.#..#############.##..\r\n#####.#############.#####.#.#.#####.####..\r\n",
                "2\r\n"
            ],
            [
                "2 2\r\n##\r\n.#\r\n",
                "2\r\n"
            ],
            [
                "4 4\r\n.#..\r\n..##\r\n.#.#\r\n..#.\r\n",
                "6\r\n"
            ],
            [
                "3 3\r\n..#\r\n#.#\r\n#..\r\n",
                "4\r\n"
            ],
            [
                "5 2\r\n.#\r\n##\r\n..\r\n#.\r\n#.\r\n",
                "4\r\n"
            ],
            [
                "4 3\r\n.#.\r\n#.#\r\n##.\r\n..#\r\n",
                "6\r\n"
            ]
        ]
    }
]