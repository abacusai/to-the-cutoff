[
    {
        "name": "Partial Sorting",
        "description": "Consider a permutation\n    ^\n    \u2020\n \n    p\n of length \n    3n\n. Each time\nyou can do one of the following operations: Sort the first \n    2n\n elements\nin increasing order. Sort the last \n    2n\n elements in increasing order. We\ncan show that every permutation can be made sorted in increasing order using\nonly these operations. Let's call \n    f(p)\n the minimum number of these\noperations needed to make the permutation \n    p\n sorted in increasing order.\nGiven \n    n\n, find the sum of \n    f(p)\n over all \n    (3n)!\n permutations\n\n    p\n of size \n    3n\n. Since the answer could be very large, output it\nmodulo a prime \n    M\n. \n    ^\n    \u2020\n A permutation of length \n    n\n is an\narray consisting of \n    n\n distinct integers from \n    1\n to \n    n\n in\narbitrary order. For example, \n    [2,3,1,5,4]\n is a permutation, but\n\n    [1,2,2]\n is not a permutation (\n    2\n appears twice in the array), and\n\n    [1,3,4]\n is also not a permutation (\n    n=3\n but there is \n    4\n in the\narray). Input The only line of input contains two numbers \n    n\n and \n    M\n\n(\n    1 \n    \u2264 n \n    \u2264 10^6\n, \n    10^8 \n    \u2264 M \n    \u2264 10^9\n). It is\nguaranteed that \n    M\n is a prime number. Output Output the answer modulo\n\n    M\n. Examples Input 1 100009067 Output 9 Input 2 100000357 Output 1689\nInput 69 999900997 Output 193862705 Note In the first test case, all the\npermutations are: \n    [1, 2, 3]\n, which requires \n    0\n operations; \n    [1,\n    3, 2]\n, which requires \n    1\n operation; \n    [2, 1, 3]\n, which requires\n\n    1\n operation; \n    [2, 3, 1]\n, which requires \n    2\n operations; \n    [3,\n    1, 2]\n, which requires \n    2\n operations; \n    [3, 2, 1]\n, which requires\n\n    3\n operations. Therefore, the answer is \n    0+1+1+2+2+3=9\n.\n\n",
        "cf_contest_id": 1768,
        "cf_index": "E",
        "cf_rating": 2300,
        "difficulty": 0,
        "cf_tags": [
            "combinatorics",
            "math",
            "number theory"
        ],
        "time_limit_seconds": 1.5,
        "memory_limit_bytes": 1024.0,
        "public_cases": [
            [
                "1 100009067\r\n",
                "9"
            ],
            [
                "2 100000357\r\n",
                "1689"
            ],
            [
                "69 999900997\r\n",
                "193862705"
            ]
        ],
        "private_cases": [
            [
                "720 977091631\r\n",
                "43142141"
            ],
            [
                "293 789947699\r\n",
                "384613810"
            ],
            [
                "667 425215247\r\n",
                "317024625"
            ],
            [
                "1483 101854169\r\n",
                "76826975"
            ],
            [
                "9230 855294907\r\n",
                "174043480"
            ],
            [
                "7682 312700547\r\n",
                "302350965"
            ],
            [
                "74307 734304127\r\n",
                "630303081"
            ],
            [
                "88524 102696631\r\n",
                "35656151"
            ],
            [
                "83117 904269923\r\n",
                "220038440"
            ],
            [
                "291 381378607\r\n",
                "327055631"
            ],
            [
                "216 516735563\r\n",
                "130894407"
            ],
            [
                "64 753726401\r\n",
                "708979591"
            ],
            [
                "8856 798360037\r\n",
                "150383922"
            ],
            [
                "1578 826434223\r\n",
                "585407220"
            ],
            [
                "5880 366376939\r\n",
                "234323972"
            ],
            [
                "9990 227794013\r\n",
                "70903511"
            ],
            [
                "9990 119064593\r\n",
                "14438724"
            ],
            [
                "9989 601538731\r\n",
                "413938300"
            ],
            [
                "99985 874111837\r\n",
                "666757847"
            ],
            [
                "99984 365994991\r\n",
                "116500636"
            ],
            [
                "99986 233079829\r\n",
                "178626601"
            ],
            [
                "999983 830163469\r\n",
                "310053004"
            ],
            [
                "999984 742441961\r\n",
                "602287451"
            ],
            [
                "999993 989386241\r\n",
                "383212307"
            ],
            [
                "1000000 896279591\r\n",
                "235053653"
            ],
            [
                "256 333130841\r\n",
                "261643293"
            ],
            [
                "505 963622241\r\n",
                "387177365"
            ],
            [
                "246 844718353\r\n",
                "37794219"
            ],
            [
                "9201 709584119\r\n",
                "678224409"
            ],
            [
                "1138 501179267\r\n",
                "10486384"
            ],
            [
                "75591 977335577\r\n",
                "297976940"
            ],
            [
                "72900 577474099\r\n",
                "502396594"
            ],
            [
                "485 598494811\r\n",
                "147812140"
            ],
            [
                "122 846675749\r\n",
                "547329629"
            ],
            [
                "4182 753847331\r\n",
                "472382412"
            ],
            [
                "9199 462729359\r\n",
                "275887098"
            ],
            [
                "9991 206082881\r\n",
                "12831040"
            ],
            [
                "9991 113418937\r\n",
                "84932788"
            ],
            [
                "99997 558310769\r\n",
                "268312397"
            ],
            [
                "99990 743825363\r\n",
                "472609232"
            ],
            [
                "999996 418653901\r\n",
                "109200313"
            ],
            [
                "999992 930398207\r\n",
                "844666370"
            ]
        ]
    }
]