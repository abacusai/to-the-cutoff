[
    {
        "name": "Serval and Music Game",
        "description": "Serval loves playing music games. He meets a problem when playing music games,\nand he leaves it for you to solve. You are given \n    n\n positive integers\n\n    s_1 < s_2 < \n    \u2026 < s_n\n. \n    f(x)\n is defined as the number of\n\n    i\n (\n    1\n    \u2264 i\n    \u2264 n\n) that exist non-negative integers \n    p_i,\n    q_i\n such that: \n    \n\n    s_i=p_i\n    \n    \u230as_n\n     x\n    \n    \u230b\n    + q_i\n    \n    \u2308s_n\n     x\n    \n    \u2309\n\n    \n Find out\n\n    \u2211_x=1^s_n x\n    \u00b7 f(x)\n modulo \n    998\n     244\n     353\n. As a\nreminder, \n    \u230a x\n    \u230b\n denotes the maximal integer that is no\ngreater than \n    x\n, and \n    \u2308 x\n    \u2309\n denotes the minimal integer\nthat is no less than \n    x\n. Input Each test contains multiple test cases.\nThe first line contains the number of test cases \n    t\n (\n    1\n    \u2264 t\n    \u2264\n    10^4\n). The description of the test cases follows. The first line of each\ntest cases contains a single integer \n    n\n (\n    1\n    \u2264 n\n    \u2264 10^6\n). The\nsecond line of each test case contains \n    n\n positive integers\n\n    s_1,s_2,\n    \u2026,s_n\n (\n    1\n    \u2264 s_1 < s_2 < \n    \u2026 < s_n \n    \u2264\n    10^7\n). It is guaranteed that the sum of \n    n\n over all test cases does\nnot exceed \n    10^6\n, and the sum of \n    s_n\n does not exceed \n    10^7\n.\nOutput For each test case, print a single integer in a single line \u2014 the sum\nof \n    x\n    \u00b7 f(x)\n over all possible \n    x\n modulo\n\n    998\n     244\n     353\n. Example Input 4 3 1 2 4 4 1 2 7 9 4 344208 591000\n4779956 5403429 5 1633 1661 1741 2134 2221 Output 26 158 758737625 12334970\nNote For the first test case, \n    s_n=4\n, \n    f(x)\n are calculated as\nfollowings: \n    f(1)=1\n \n    \u230a s_n\n    \n    1\n    \n    \u230b=4\n, \n    \u2308 s_n\n     1\n    \n    \u2309=4\n.\nIt can be shown that such \n    p_1,p_2\n and \n    q_1,q_2\n that satisfy the\nconditions don't exist. Let \n    p_3=1\n and \n    q_3=0\n, then \n    s_3 =\n    p_3\n    \u00b7\n    \n    \u230a s_n\n     1\n    \n    \u230b +\n    q_3\n    \u00b7\n    \n    \u2308 s_n\n     1\n    \n    \u2309 = 1\n    \u00b7 4 + 0\n    \u00b7\n    4 = 4\n. \n    f(2)=2\n \n    \u230a s_n\n     2\n    \n    \u230b=2\n,\n\n    \u2308 s_n\n     2\n    \n    \u2309=2\n. It can be shown that\nsuch \n    p_1\n and \n    q_1\n that satisfy the conditions don't exist. Let\n\n    p_2=1\n and \n    q_2=0\n, then \n    s_2 = p_2\n    \u00b7\n    \n    \u230a\n    s_n\n     2\n    \n    \u230b + q_2\n    \u00b7\n    \n    \u2308 s_n\n    \n    2\n    \n    \u2309 = 1\n    \u00b7 2 + 0\n    \u00b7 2 = 2\n. Let \n    p_3=0\n and\n\n    q_3=2\n, then \n    s_3 = p_3\n    \u00b7\n    \n    \u230a s_n\n    \n    2\n    \n    \u230b + q_3\n    \u00b7\n    \n    \u2308 s_n\n     2\n    \n    \u2309 =\n    0\n    \u00b7 2 + 2\n    \u00b7 2 = 4\n. \n    f(3)=3\n \n    \u230a s_n\n    \n    3\n    \n    \u230b=1\n, \n    \u2308 s_n\n     3\n    \n    \u2309=2\n.\nLet \n    p_1=1\n and \n    q_1=0\n, then \n    s_1 = p_1\n    \u00b7\n    \n    \u230a\n    s_n\n     3\n    \n    \u230b + q_1\n    \u00b7\n    \n    \u2308 s_n\n    \n    3\n    \n    \u2309 = 1\n    \u00b7 1 + 0\n    \u00b7 2 = 1\n. Let \n    p_2=0\n and\n\n    q_2=1\n, then \n    s_2 = p_2\n    \u00b7\n    \n    \u230a s_n\n    \n    3\n    \n    \u230b + q_2\n    \u00b7\n    \n    \u2308 s_n\n     3\n    \n    \u2309 =\n    0\n    \u00b7 1 + 1\n    \u00b7 2 = 2\n. Let \n    p_3=0\n and \n    q_3=2\n, then \n    s_3 =\n    p_3\n    \u00b7\n    \n    \u230a s_n\n     3\n    \n    \u230b +\n    q_3\n    \u00b7\n    \n    \u2308 s_n\n     3\n    \n    \u2309 = 0\n    \u00b7 1 + 2\n    \u00b7\n    2 = 4\n. \n    f(4)=3\n \n    \u230a s_n\n     4\n    \n    \u230b=1\n,\n\n    \u2308 s_n\n     4\n    \n    \u2309=1\n. Let \n    p_1=1\n and\n\n    q_1=0\n, then \n    s_1 = p_1\n    \u00b7\n    \n    \u230a s_n\n    \n    4\n    \n    \u230b + q_1\n    \u00b7\n    \n    \u2308 s_n\n     4\n    \n    \u2309 =\n    1\n    \u00b7 1 + 0\n    \u00b7 1 = 1\n. Let \n    p_2=1\n and \n    q_2=1\n, then \n    s_2 =\n    p_2\n    \u00b7\n    \n    \u230a s_n\n     4\n    \n    \u230b +\n    q_2\n    \u00b7\n    \n    \u2308 s_n\n     4\n    \n    \u2309 = 1\n    \u00b7 1 + 1\n    \u00b7\n    1 = 2\n. Let \n    p_3=2\n and \n    q_3=2\n, then \n    s_3 =\n    p_3\n    \u00b7\n    \n    \u230a s_n\n     4\n    \n    \u230b +\n    q_3\n    \u00b7\n    \n    \u2308 s_n\n     4\n    \n    \u2309 = 2\n    \u00b7 1 + 2\n    \u00b7\n    1 = 4\n. Therefore, the answer is \n    \u2211_x=1^4 x\n    \u00b7 f(x) = 1\n    \u00b7\n    1 + 2\n    \u00b7 2 + 3\n    \u00b7 3 + 4\n    \u00b7 3 = 26\n. For the second test case:\n\n    f(1)=f(2)=f(3)=1\n \n    f(4)=3\n \n    f(5)=f(6)=f(7)=f(8)=f(9)=4\n For\nexample, when \n    x=3\n we have \n    f(3)=1\n because there exist \n    p_4\n and\n\n    q_4\n: \n    \n\n    9 = 1 \n    \u00b7\n    \n    \u230a9\n     3\n    \n    \u230b +\n    2 \n    \u00b7\n    \n    \u23089\n     3\n    \n    \u2309\n\n    \n It can be shown\nthat it is impossible to find \n    p_1,p_2,p_3\n and \n    q_1,q_2,q_3\n that\nsatisfy the conditions. When \n    x=5\n we have \n    f(5)=4\n because there\nexist \n    p_i\n and \n    q_i\n as followings: \n    \n\n    1 = 1\n    \n    \u00b7\n    \n    \u230a9\n     5\n    \n    \u230b + 0\n    \n    \u00b7\n    \n    \u23089\n     5\n    \n    \u2309\n\n    \n \n    \n\n    2 = 0\n    \n    \u00b7\n    \n    \u230a9\n     5\n    \n    \u230b + 1\n    \n    \u00b7\n    \n    \u23089\n     5\n    \n    \u2309\n\n    \n \n    \n\n    7 = 3\n    \n    \u00b7\n    \n    \u230a9\n     5\n    \n    \u230b + 2\n    \n    \u00b7\n    \n    \u23089\n     5\n    \n    \u2309\n\n    \n \n    \n\n    9 = 3\n    \n    \u00b7\n    \n    \u230a9\n     5\n    \n    \u230b + 3\n    \n    \u00b7\n    \n    \u23089\n     5\n    \n    \u2309\n\n    \n Therefore, the answer\nis \n    \u2211_x=1^9 x\n    \u00b7 f(x) = 158\n.\n\n",
        "cf_contest_id": 1789,
        "cf_index": "E",
        "cf_rating": 2500,
        "difficulty": 0,
        "cf_tags": [
            "brute force",
            "dp",
            "implementation",
            "math",
            "number theory"
        ],
        "time_limit_seconds": 2.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "4\r\n3\r\n1 2 4\r\n4\r\n1 2 7 9\r\n4\r\n344208 591000 4779956 5403429\r\n5\r\n1633 1661 1741 2134 2221\r\n",
                "26\r\n158\r\n758737625\r\n12334970\r\n"
            ]
        ],
        "private_cases": []
    }
]