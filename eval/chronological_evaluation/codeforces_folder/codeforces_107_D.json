[
    {
        "name": "Crime Management",
        "description": "Zeyad wants to commit n crimes in Egypt and not be punished at the end. There\nare several types of crimes. For example, bribery is a crime but is not\nconsidered such when repeated twice. Therefore, bribery is not considered a\ncrime when repeated an even number of times. Speeding is a crime, but is not\nconsidered such when repeated a number of times which is a multiple of five.\nMore specifically, c conditions on crime repetitions are known. Each condition\ndescribes the crime type ti and its multiplicity mi. If the number of times\nZeyad committed the crime ti is a multiple of mi, Zeyad will not be punished\nfor crime ti. Some crimes may be listed more than once. In this case\nfulfilling at least one condition for this crime is enough to not be punished\nfor it. Of course, if for certain crime the number of times Zeyad committed it\nis zero, he is innocent with respect to this crime. Now Zeyad is interested in\na number of ways he can commit exactly n crimes without any punishment. The\norder of commiting the crimes matters. More formally, two ways, sequences w1\nand w2, of committing n crimes are equal if w1i = w2i, for all 1 \u2264 i \u2264 n.\nInput The first line contains two integers n and c (0 \u2264 n \u2264 10^18, 0 \u2264 c \u2264\n1000) \u2014 the number of crimes Zeyad would like to commit and the number of\nconditions he is aware of. Then the definitions for c conditions follow. There\nare 26 types of crimes. Each crime definition consists of crime type \u2014 a\ncapital Latin letter \u2014 and its multiplicity. The multiplicity of each crime is\na positive integer number and the product of all multiplicities does not\nexceed 123. Some conditions may be repeated in the input more than once. Crime\nof multiplicity 1 is not yielding any punishment regardless of the number of\ntimes it was committed. The strictness of the law is compensated by the fact\nthat it's non-mandatory. Obviously, if some crime is not listed in the set of\nconditions, then Zeyad will not consider it, as committing it would\nunavoidably lead to the punishment. Please, do not use the \nto read or write 64-bit integers in \u0421++. It is preferred to use the cin stream\n(you may also use the \ndifferent ways Zeyad can commit exactly n crimes with no punishment modulo\n12345. Examples Input 5 2 A 1 B 2 Output 16 Input 6 3 A 1 B 2 C 3 Output 113\nInput 8 3 A 2 A 3 B 2 Output 128 Note In the first test case, the 16 ways are:\nAAAAA, AAABB, AABAB, AABBA, ABAAB, ABABA, ABBAA, BAAAB, BAABA, BABAA, BBAAA,\nABBBB, BABBB, BBABB, BBBAB, BBBBA.\n\n",
        "cf_contest_id": 107,
        "cf_index": "D",
        "cf_rating": 2400,
        "difficulty": 0,
        "cf_tags": [
            "dp",
            "graphs",
            "matrices"
        ],
        "time_limit_seconds": 5.0,
        "memory_limit_bytes": 256.0,
        "public_cases": [
            [
                "5 2\r\nA 1\r\nB 2\r\n",
                "16\r\n"
            ],
            [
                "6 3\r\nA 1\r\nB 2\r\nC 3\r\n",
                "113\r\n"
            ],
            [
                "8 3\r\nA 2\r\nA 3\r\nB 2\r\n",
                "128\r\n"
            ]
        ],
        "private_cases": [
            [
                "11 2\r\nK 6\r\nT 2\r\n",
                "0\r\n"
            ],
            [
                "14 3\r\nU 5\r\nP 1\r\nG 2\r\n",
                "10222\r\n"
            ],
            [
                "5 2\r\nC 3\r\nJ 3\r\n",
                "0\r\n"
            ],
            [
                "5 3\r\nE 7\r\nN 2\r\nQ 2\r\n",
                "0\r\n"
            ],
            [
                "2 1\r\nH 3\r\n",
                "0\r\n"
            ],
            [
                "0 2\r\nP 5\r\nP 2\r\n",
                "1\r\n"
            ],
            [
                "14 2\r\nF 4\r\nP 2\r\n",
                "4096\r\n"
            ],
            [
                "9 3\r\nB 3\r\nV 3\r\nA 2\r\n",
                "338\r\n"
            ],
            [
                "3 3\r\nA 2\r\nB 1\r\nC 1\r\n",
                "14\r\n"
            ],
            [
                "1 0\r\n",
                "0\r\n"
            ],
            [
                "99 0\r\n",
                "0\r\n"
            ],
            [
                "324234234632197 0\r\n",
                "0\r\n"
            ],
            [
                "1000000000000000000 0\r\n",
                "0\r\n"
            ],
            [
                "0 0\r\n",
                "1\r\n"
            ],
            [
                "0 2\r\nA 11\r\nB 5\r\n",
                "1\r\n"
            ],
            [
                "909505541 3\r\nU 8\r\nQ 2\r\nP 2\r\n",
                "0\r\n"
            ],
            [
                "285305372 5\r\nR 1\r\nO 7\r\nM 1\r\nT 2\r\nS 2\r\n",
                "2778\r\n"
            ],
            [
                "730671631 3\r\nS 8\r\nZ 2\r\nF 2\r\n",
                "0\r\n"
            ],
            [
                "605004230 3\r\nI 5\r\nY 3\r\nR 2\r\n",
                "6106\r\n"
            ],
            [
                "981784686 4\r\nT 6\r\nP 4\r\nM 1\r\nJ 2\r\n",
                "10248\r\n"
            ],
            [
                "729508038 4\r\nU 7\r\nF 3\r\nF 1\r\nP 2\r\n",
                "9551\r\n"
            ],
            [
                "84256327 2\r\nR 6\r\nO 3\r\n",
                "0\r\n"
            ],
            [
                "942293219 3\r\nC 8\r\nM 3\r\nH 2\r\n",
                "9700\r\n"
            ],
            [
                "283008781 5\r\nJ 5\r\nJ 3\r\nO 1\r\nE 1\r\nQ 2\r\n",
                "2869\r\n"
            ],
            [
                "631501582 3\r\nW 8\r\nP 3\r\nS 2\r\n",
                "3871\r\n"
            ],
            [
                "799184056 3\r\nI 8\r\nH 2\r\nR 2\r\n",
                "1494\r\n"
            ],
            [
                "988332622 3\r\nA 4\r\nG 3\r\nH 2\r\n",
                "7583\r\n"
            ],
            [
                "673616104 2\r\nQ 8\r\nX 3\r\n",
                "11401\r\n"
            ],
            [
                "815463612 2\r\nB 6\r\nA 3\r\n",
                "10811\r\n"
            ],
            [
                "40348952 4\r\nZ 8\r\nF 1\r\nQ 2\r\nB 2\r\n",
                "502\r\n"
            ],
            [
                "380484106 3\r\nF 6\r\nC 2\r\nC 2\r\n",
                "5911\r\n"
            ],
            [
                "588555306 3\r\nT 6\r\nS 3\r\nM 2\r\n",
                "6213\r\n"
            ],
            [
                "904082193 3\r\nK 8\r\nW 2\r\nS 2\r\n",
                "0\r\n"
            ],
            [
                "594828666 4\r\nL 4\r\nR 3\r\nA 1\r\nD 2\r\n",
                "3755\r\n"
            ],
            [
                "708353261 4\r\nZ 5\r\nC 3\r\nU 1\r\nO 2\r\n",
                "628\r\n"
            ],
            [
                "696380271590142511 3\r\nE 6\r\nJ 2\r\nE 2\r\n",
                "0\r\n"
            ],
            [
                "647943361574528870 3\r\nW 8\r\nK 3\r\nJ 2\r\n",
                "6431\r\n"
            ],
            [
                "204503308698742564 3\r\nV 8\r\nY 2\r\nX 2\r\n",
                "10928\r\n"
            ],
            [
                "684836859619697334 2\r\nT 7\r\nA 3\r\n",
                "55\r\n"
            ],
            [
                "84525566971303094 3\r\nU 5\r\nO 3\r\nF 2\r\n",
                "9106\r\n"
            ],
            [
                "913078139620821427 3\r\nY 10\r\nT 2\r\nO 2\r\n",
                "0\r\n"
            ],
            [
                "383915846195389089 3\r\nC 6\r\nY 4\r\nM 2\r\n",
                "0\r\n"
            ],
            [
                "924258572024594433 3\r\nH 8\r\nL 3\r\nX 2\r\n",
                "5455\r\n"
            ],
            [
                "273818379101104111 3\r\nM 9\r\nY 2\r\nR 2\r\n",
                "7202\r\n"
            ],
            [
                "886737620713206325 2\r\nY 7\r\nP 3\r\n",
                "1840\r\n"
            ],
            [
                "1000000000000000000 2\r\nA 41\r\nB 3\r\n",
                "710\r\n"
            ],
            [
                "1000000000000000000 4\r\nA 2\r\nB 2\r\nC 5\r\nD 5\r\n",
                "10587\r\n"
            ],
            [
                "1000000000000000000 26\r\nA 61\r\nB 2\r\nQ 1\r\nW 1\r\nE 1\r\nR 1\r\nT 1\r\nY 1\r\nU 1\r\nI 1\r\nO 1\r\nP 1\r\nS 1\r\nD 1\r\nF 1\r\nG 1\r\nH 1\r\nJ 1\r\nK 1\r\nL 1\r\nZ 1\r\nX 1\r\nC 1\r\nV 1\r\nN 1\r\nM 1\r\n",
                "609\r\n"
            ],
            [
                "1000000000000000000 6\r\nA 2\r\nB 2\r\nC 2\r\nD 2\r\nE 2\r\nF 3\r\n",
                "2120\r\n"
            ],
            [
                "49980561614074165 2\r\nA 10\r\nE 3\r\n",
                "1356\r\n"
            ],
            [
                "685965792085090832 2\r\nX 10\r\nY 3\r\n",
                "3375\r\n"
            ],
            [
                "628082088113206782 3\r\nV 9\r\nQ 2\r\nM 2\r\n",
                "5103\r\n"
            ],
            [
                "178689849747019114 4\r\nD 4\r\nW 5\r\nS 1\r\nS 2\r\n",
                "5700\r\n"
            ],
            [
                "422752135117636455 5\r\nL 10\r\nV 1\r\nN 2\r\nG 1\r\nJ 2\r\n",
                "6356\r\n"
            ],
            [
                "165612724402867038 3\r\nN 8\r\nW 3\r\nN 2\r\n",
                "3677\r\n"
            ],
            [
                "722162886328419249 4\r\nX 7\r\nT 4\r\nK 1\r\nM 2\r\n",
                "4070\r\n"
            ],
            [
                "919713873819598671 3\r\nR 8\r\nF 3\r\nK 2\r\n",
                "1441\r\n"
            ],
            [
                "157407505969740331 3\r\nY 10\r\nK 2\r\nM 2\r\n",
                "0\r\n"
            ],
            [
                "559340987080395257 3\r\nP 5\r\nW 3\r\nV 2\r\n",
                "1320\r\n"
            ],
            [
                "0 3\r\nL 9\r\nG 3\r\nG 2\r\n",
                "1\r\n"
            ],
            [
                "0 2\r\nW 5\r\nH 2\r\n",
                "1\r\n"
            ],
            [
                "0 2\r\nQ 4\r\nL 3\r\n",
                "1\r\n"
            ],
            [
                "0 2\r\nR 5\r\nV 2\r\n",
                "1\r\n"
            ],
            [
                "0 2\r\nC 3\r\nY 2\r\n",
                "1\r\n"
            ],
            [
                "1236871623 4\r\nL 4\r\nL 2\r\nL 3\r\nL 5\r\n",
                "1\r\n"
            ],
            [
                "97217871489821 3\r\nZ 4\r\nZ 3\r\nZ 5\r\n",
                "0\r\n"
            ],
            [
                "87326861934628 4\r\nZ 3\r\nY 3\r\nZ 5\r\nY 2\r\n",
                "3052\r\n"
            ],
            [
                "300000000000000000 4\r\nA 2\r\nA 3\r\nA 5\r\nB 2\r\n",
                "9083\r\n"
            ],
            [
                "30000000 4\r\nA 2\r\nA 2\r\nB 3\r\nC 6\r\n",
                "8964\r\n"
            ],
            [
                "30000 2\r\nZ 6\r\nZ 6\r\n",
                "1\r\n"
            ],
            [
                "6 3\r\nZ 3\r\nZ 3\r\nC 7\r\n",
                "1\r\n"
            ],
            [
                "3 4\r\nC 2\r\nA 2\r\nC 3\r\nA 1\r\n",
                "5\r\n"
            ],
            [
                "4 4\r\nA 2\r\nA 3\r\nA 3\r\nC 2\r\n",
                "8\r\n"
            ],
            [
                "1 2\r\nA 2\r\nA 3\r\n",
                "0\r\n"
            ],
            [
                "4 9\r\nX 2\r\nI 1\r\nG 1\r\nQ 1\r\nU 1\r\nT 2\r\nI 1\r\nV 1\r\nN 2\r\n",
                "1096\r\n"
            ]
        ]
    }
]