[
    {
        "name": "Pictures with Kittens (hard version)",
        "description": "The only difference between easy and hard versions is the constraints. Vova\nlikes pictures with kittens. The news feed in the social network he uses can\nbe represented as an array of \n    n\n consecutive pictures (with kittens, of\ncourse). Vova likes all these pictures, but some are more beautiful than the\nothers: the \n    i\n-th picture has beauty \n    a_i\n. Vova wants to repost\nexactly \n    x\n pictures in such a way that: each segment of the news feed of\nat least \n    k\n consecutive pictures has at least one picture reposted by\nVova; the sum of beauty values of reposted pictures is maximum possible. For\nexample, if \n    k=1\n then Vova has to repost all the pictures in the news\nfeed. If \n    k=2\n then Vova can skip some pictures, but between every pair of\nconsecutive pictures Vova has to repost at least one of them. Your task is to\ncalculate the maximum possible sum of values of reposted pictures if Vova\nfollows conditions described above, or say that there is no way to satisfy all\nconditions. Input The first line of the input contains three integers \n    n,\n    k\n and \n    x\n (\n    1 \n    \u2264 k, x \n    \u2264 n \n    \u2264 5000\n) \u2014 the number of\npictures in the news feed, the minimum length of segment with at least one\nrepost in it and the number of pictures Vova is ready to repost. The second\nline of the input contains \n    n\n integers \n    a_1, a_2, \n    \u2026, a_n\n (\n    1\n    \n    \u2264 a_i \n    \u2264 10^9\n), where \n    a_i\n is the beauty of the \n    i\n-th\npicture. Output Print -1 if there is no way to repost some pictures to satisfy\nall the conditions in the problem statement. Otherwise print one integer \u2014 the\nmaximum sum of values of reposted pictures if Vova follows conditions\ndescribed in the problem statement. Examples Input 5 2 3 5 1 3 10 1 Output 18\nInput 6 1 5 10 30 30 70 10 10 Output -1 Input 4 3 1 1 100 1 1 Output 100\n\n",
        "cf_contest_id": 1077,
        "cf_index": "F2",
        "cf_rating": 2100,
        "difficulty": 0,
        "cf_tags": [
            "data structures",
            "dp"
        ],
        "time_limit_seconds": 2.5,
        "memory_limit_bytes": 512.0,
        "public_cases": [
            [
                "5 2 3\r\n5 1 3 10 1\r\n",
                "18\r\n"
            ],
            [
                "6 1 5\r\n10 30 30 70 10 10\r\n",
                "-1\r\n"
            ],
            [
                "4 3 1\r\n1 100 1 1\r\n",
                "100\r\n"
            ]
        ],
        "private_cases": [
            [
                "10 8 2\r\n842853295 227407393 999938308 145896203 715701127 207783929 574007784 731415993 466538642 880026774\r\n",
                "1879965082\r\n"
            ],
            [
                "9 3 4\r\n397498491 235015416 20938619 357998172 883949649 813139123 596681571 716658346 444456081\r\n",
                "2648762534\r\n"
            ],
            [
                "8 4 1\r\n584839998 906793888 819252576 374437512 272348000 691053795 931059413 766340324\r\n",
                "-1\r\n"
            ],
            [
                "24 14 2\r\n243042142 323209485 118353668 909133554 81304989 766269408 777722792 656213078 605394673 636478466 773034018 174666612 668335008 93712660 700764564 707076950 645953351 853546027 905925042 741784506 228654421 434995279 452533575 513137555\r\n",
                "1762679581\r\n"
            ],
            [
                "25 4 15\r\n172043124 384297369 650214870 426077944 587045971 576701397 865475689 261462255 763837593 285228401 629011531 611623799 456424430 820020943 166915939 903479811 384167579 561107351 177427070 14589838 994169358 683167027 193684940 439658261 237500762\r\n",
                "9968015975\r\n"
            ],
            [
                "1 1 1\r\n474812122\r\n",
                "474812122\r\n"
            ],
            [
                "1 1 1\r\n465559034\r\n",
                "465559034\r\n"
            ],
            [
                "1 1 1\r\n558472458\r\n",
                "558472458\r\n"
            ],
            [
                "1 1 1\r\n996417566\r\n",
                "996417566\r\n"
            ],
            [
                "1 1 1\r\n132926219\r\n",
                "132926219\r\n"
            ],
            [
                "1 1 1\r\n785648154\r\n",
                "785648154\r\n"
            ],
            [
                "1 1 1\r\n835798298\r\n",
                "835798298\r\n"
            ],
            [
                "1 1 1\r\n7082632\r\n",
                "7082632\r\n"
            ],
            [
                "1 1 1\r\n99996055\r\n",
                "99996055\r\n"
            ],
            [
                "15 5 3\r\n2635829 350023769 683167149 556960496 631240845 442863824 339440671 107290942 603311337 477526861 814245665 899502451 83286624 76082776 194763926\r\n",
                "2134054633\r\n"
            ],
            [
                "15 5 2\r\n529585109 776474925 944162404 531331019 502148487 753160855 314701391 764106954 382377182 490189975 434952522 988199603 440453830 51256343 532602115\r\n",
                "-1\r\n"
            ],
            [
                "14 5 2\r\n956036265 182694371 213500222 846949061 812445518 728421576 971517403 838140094 100072999 815929535 673392778 50399513 265884293 829286020\r\n",
                "1628375053\r\n"
            ],
            [
                "14 5 1\r\n777952841 904112822 619719668 821319583 273287753 183942799 391488524 199988810 174106140 533625353 704165043 288839769 328084203 509492291\r\n",
                "-1\r\n"
            ],
            [
                "14 6 1\r\n573551956 597537712 343282887 390431752 922886146 236396791 508644487 527344545 350234981 210104471 688996046 22222733 530188006 245453392\r\n",
                "-1\r\n"
            ],
            [
                "14 8 1\r\n314493289 279354788 200474731 673880281 517050227 341304777 187666812 331799120 407525368 853511092 663176964 634212854 784652508 127441002\r\n",
                "331799120\r\n"
            ]
        ]
    }
]